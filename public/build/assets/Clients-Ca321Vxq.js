import{S as re,A as we,i as W}from"./Adminto-DDJrXyEx.js";import{r as n,R as e,C as xe,c as Re,m as ee,G as te}from"./CreateReactScript-DiMSE74L.js";import{M as q}from"./Modal-DIHwUr7I.js";import{b as P,C as ae,T as Ce,a as _e}from"./ClientNotesCard-egRi8tAY.js";import{I as g}from"./InputFormGroup-TM-cwmw7.js";import{T as X}from"./TextareaFormGroup-DptRN7bF.js";import{S as H,a as ke}from"./SetSelectValue-CewST6hL.js";import{D as z}from"./DropdownItem-E29r08GI.js";import{D as De}from"./DropdownEnd-Bc0ixvdH.js";import{P as $e,A as Se}from"./AssignUsersModal-CrUB2wGv.js";import{P as Ae}from"./ProjectStatusDropdown-CTiWr1xu.js";import{R as p}from"./ReactAppend-BsJVsMpn.js";import{P as Te,A as Fe,D as Ge}from"./Assigneds-DqqFVzyP.js";import{T as Pe,D as le}from"./DxPanelButton-6w4Akznr.js";import{T as E}from"./TippyButton-BVoSO3IC.js";import{N as Me}from"./Number2Currency-e57Tgsuk.js";import{D as Be}from"./DxBox-DTge2tdv.js";import{D as ne}from"./Dropdown-BnWkcEvN.js";import{L as qe}from"./LeadsRest-DrB9SXGG.js";import"./server.browser-BzA2yPSr.js";const ze=({can:h,client:r,setClient:Y,grid2refresh:M,page:y})=>{const m=n.useRef(),w=n.useRef(),x=n.useRef(),b=n.useRef(),i=n.useRef(),f=n.useRef(),[C,N]=n.useState([]),[D,_]=n.useState(!1);n.useEffect(()=>{r.id&&S(),$(m.current).on("hidden.bs.modal",()=>{Y({}),N([]),_(!1),x.current.value=null,H(b.current,null,null),i.current.value=null,f.current.value=null})},[r]);const S=async()=>{const s=await P.byClient(r==null?void 0:r.id);N(s),$(m.current).modal("show")},A=async s=>{s.preventDefault();const d={id:x.current.value||void 0,type_id:b.current.value,client_id:r.id,name:i.current.value,description:f.current.value};await P.save(d)&&($(w.current).modal("hide"),x.current.value=null,H(b.current,null,null),i.current.value=null,f.current.value=null,await k(),$(M.current).dxDataGrid("instance").refresh())},k=async()=>{const s=await P.byClient(r.id);N(s)},T=async s=>{x.current.value=s.id,H(b.current,s.type.id,s.type.name),i.current.value=s.name,f.current.value=s.description,$(w.current).modal("show"),_(!0)},F=async s=>{const{isConfirmed:d}=await re.fire({title:"Estas seguro de eliminar esta nota?",text:"No podras revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});!d||!await P.delete(s)||(await k(),$(M.current).dxDataGrid("instance").refresh())};return e.createElement(e.Fragment,null,e.createElement(q,{modalRef:m,title:`Notas de ${(r==null?void 0:r.tradename)||(r==null?void 0:r.name)||(r==null?void 0:r.contact_name)}`,size:"full-width",isStatic:!0,hideFooter:!0},e.createElement("div",{style:{height:"calc(100vh - 180px)",overflowY:"auto"}},e.createElement("div",{className:"text-center"},e.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>$(w.current).modal("show")},"Agregar nota")),e.createElement("hr",{className:"my-2"}),e.createElement("div",{className:"d-flex flex-wrap flex-row justify-content-center gap-2"},C.sort((s,d)=>new Date(d.created_at)-new Date(s.created_at)).map((s,d)=>{const R=moment(s.created_at),B=moment().diff(R,"hours")>12?R.format("lll"):R.fromNow();return e.createElement("div",{key:`note-${d}`,className:"card text-white bg-purple mb-0",style:{width:"100%",maxWidth:"300px",height:"max-content"}},e.createElement("div",{className:"card-body p-2"},e.createElement("div",{className:"d-flex align-items-center border-bottom border-white pb-1 mb-1"},e.createElement("div",{className:"avatar-sm me-2 mb-1"},e.createElement("img",{src:`/api/profile/thumbnail/${s.user.relative_id}?v=${new Date(s.user.updated_at).getTime()}`,className:"img-fluid rounded-circle",alt:"user"})),e.createElement("div",{className:"flex-grow-1 overflow-hidden"},e.createElement("h5",{className:"text-white m-0"},s.user.name," ",s.user.lastname),e.createElement("p",{className:"text-white-50 m-0 font-13 text-truncate"},B)),h(y,"root","all","editnotes","deletenotes")&&e.createElement(De,null,h(y,"root","all","editnotes")&&e.createElement(z,{onClick:()=>T(s)},"Editar"),h(y,"root","all","deletenotes")&&e.createElement(z,{onClick:()=>F(s.id)},"Eliminar"))),e.createElement("blockquote",{className:"card-bodyquote mb-0"},s.name&&e.createElement("b",null,s.name),e.createElement("p",{className:"mb-1"},s.description))))})))),e.createElement(q,{modalRef:w,title:D?"Editar nota":"Agregar nota",size:"sm",onSubmit:A},e.createElement("div",{id:"note-crud-container"},e.createElement("input",{ref:x,type:"hidden"}),e.createElement(ke,{eRef:b,label:"Tipo de nota",col:"col-12",dropdownParent:"#note-crud-container",searchAPI:"/api/types/paginate",searchBy:"name",filter:["table_id","=","c81ad4fb-a895-4f4c-b4b3-5989a7a66a85"],required:!0}),e.createElement(g,{eRef:i,label:"Titulo de la nota"}),e.createElement(X,{eRef:f,label:"Descripcion de la nota",required:!0}))))},G=new _e,se=new qe,Ie=new P,Ue=({projectStatuses:h,clientStatuses:r,products:Y=[],manageStatuses:M,session:y,can:m,noteTypes:w,defaultClientStatus:x,client:b})=>{var Z,L;const i=n.useRef(),f=n.useRef(),C=n.useRef(),N=n.useRef(),D=n.useRef(),_=n.useRef(),S=n.useRef(),A=n.useRef(),k=n.useRef(),T=n.useRef(),F=n.useRef(),s=n.useRef(),d=n.useRef(),[R,I]=n.useState(!1),[J,B]=n.useState({}),[ce,K]=n.useState({}),[oe,je]=n.useState({}),[me,ie]=n.useState({});n.useState([]);const[l,U]=n.useState({}),[v,j]=n.useState([]),ue=t=>{t!=null&&t.id?I(!0):I(!1),$('[href="#client-data"]').addClass("active"),$('[href="#contact-data"]').removeClass("active"),$("#client-data").addClass("active"),$("#contact-data").removeClass("active"),N.current.value=(t==null?void 0:t.id)||null,D.current.value=(t==null?void 0:t.ruc)||null,_.current.value=(t==null?void 0:t.name)||null,S.current.value=(t==null?void 0:t.tradename)||null,A.current.value=(t==null?void 0:t.web_url)||null,k.current.value=(t==null?void 0:t.message)||"Cliente creado desde Atalaya",T.current.value=(t==null?void 0:t.contact_name)||null,F.current.value=(t==null?void 0:t.contact_phone)||null,s.current.value=(t==null?void 0:t.contact_email)||null,d.current.value=(t==null?void 0:t.contact_address)||null,$(f.current).modal("show")},de=async t=>{t.preventDefault();const a={id:N.current.value||void 0,ruc:D.current.value,name:_.current.value,tradename:S.current.value,web_url:A.current.value,message:k.current.value??"Cliente creado desde Atalaya",contact_name:T.current.value??"",contact_phone:F.current.value??"",contact_email:s.current.value??"",contact_address:d.current.value??"",status_id:N.current.value?void 0:x};await G.save(a)&&($(i.current).dxDataGrid("instance").refresh(),$(f.current).modal("hide"))},fe=async t=>{const{isConfirmed:a}=await re.fire({title:"Estas seguro de eliminar este lead?",text:"No podras revertir esta accion!",icon:"warning",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});!a||!await G.delete(t)||$(i.current).dxDataGrid("instance").refresh()},Q=async(t,a)=>{await G.assign(t,a)&&$(i.current).dxDataGrid("instance").refresh()},pe=async(t,a)=>{await se.leadStatus({lead:t,status:a}),$(i.current).dxDataGrid("instance").refresh()},Ee=async(t,a)=>{await se.manageStatus({lead:t.id,status:a.id}),$(i.current).dxDataGrid("instance").refresh()},be=async t=>{U(t),history.pushState(null,null,`/clients/${t.id}`),j([]),$(C.current).modal("show")};n.useEffect(()=>{Ne()},[l]);const Ne=async()=>{const t=await Ie.byClient(l==null?void 0:l.id);j(t??[])};n.useEffect(()=>{$(C.current).on("hidden.bs.modal",()=>{U(null),history.pushState(null,null,"/clients")}),b&&G.get(b).then(t=>{t&&(U(t),j([]),$(C.current).modal("show"),ee.GET.annotation&&$(`[data-name="${ee.GET.annotation}"]`).click())})},[null]);const ve=[];v==null||v.forEach(t=>ve.push(...t.tasks));const O=[];return v==null||v.forEach(t=>O.push(...t.tasks.filter(a=>a.status!="Realizado"))),e.createElement(e.Fragment,null,e.createElement(Pe,{gridRef:i,title:"Clientes",rest:G,toolBar:t=>{t.unshift(le({className:"btn btn-xs btn-soft-dark",text:"Actualizar",title:"Refrescar tabla",icon:"fas fa-undo-alt",onClick:()=>$(i.current).dxDataGrid("instance").refresh()})),m("clients","all","create")&&t.unshift(le({className:"btn btn-xs btn-soft-primary",text:"Nuevo",title:"Agregar registro",icon:"fa fa-plus",onClick:()=>onOpenModal()}))},columns:[m("projects","root","all","list")?{dataField:"id",caption:"ID",dataType:"number",cellTemplate:(t,{data:a,value:o,...u})=>{p(t,e.createElement(E,{className:"btn btn-xs btn-white",title:`Ver ${a.projects_count} proyectos`,onClick:()=>{u.component.collapseAll(-1),u.component.expandRow(u.row.data)}},e.createElement("i",{className:"fas fa-shapes"})," ",a.projects_count))},sortOrder:"desc"}:null,{dataField:"ruc",caption:"RUC",cellTemplate:(t,{data:a})=>{t.html(a.ruc||'<i class="text-muted">- Sin RUC -</i>')}},{dataField:"tradename",caption:"Nombre comercial",width:250,cellTemplate:(t,{data:a})=>{p(t,e.createElement("div",{className:"d-flex align-items-center"},a.assigned_to&&e.createElement(W,{content:`Atendido por ${a.assigned.name} ${a.assigned.lastname}`},e.createElement("img",{className:"avatar-xs rounded-circle me-1",src:`//${te.APP_DOMAIN}/api/profile/thumbnail/${a.assigned.relative_id}`,alt:a.assigned.name})),e.createElement("div",null,a.tradename||e.createElement("i",{className:"text-muted"},"- Sin nombre -"))))}},{dataField:"name",caption:"Razon social",visible:!1},{dataField:"contact_name",caption:"Nombre de contacto"},{dataField:"contact_phone",caption:"Telefono"},{dataField:"contact_email",caption:"Correo"},m("clients","root","all","changestatus")?{dataField:"status.name",caption:"Estado del cliente",dataType:"string",cellTemplate:(t,{data:a})=>{t.attr("style","overflow: visible"),p(t,e.createElement(ne,{className:"btn btn-xs btn-white rounded-pill",title:a.status.name,icon:{icon:"fa fa-circle",color:a.status.color},tippy:"Actualizar estado"},r.map(({id:o,name:u,color:c})=>e.createElement(z,{key:o,onClick:()=>pe(a.id,o)},e.createElement("i",{className:"fa fa-circle",style:{color:c}})," ",u))))}}:null,m("clients","root","all","changestatus")?{dataField:"manage_status.name",caption:"Estado de gestion",dataType:"string",cellTemplate:(t,{data:a})=>{var o,u;t.attr("style","overflow: visible"),p(t,e.createElement(ne,{className:"btn btn-xs btn-white rounded-pill",title:(o=a==null?void 0:a.manage_status)==null?void 0:o.name,icon:{icon:"fa fa-circle",color:(u=a==null?void 0:a.manage_status)==null?void 0:u.color},tippy:"Actualizar estado"},M.map((c,V)=>e.createElement(z,{key:`status-${V}`,onClick:()=>Ee(a,c)},e.createElement("i",{className:"fa fa-circle",style:{color:c.color}})," ",c.name))))}}:null,m("clients","root","all","list","update","changestatus","delete")?{caption:"Acciones",width:235,cellTemplate:(t,{data:a})=>{t.attr("style","display: flex; gap: 4px; overflow: visible"),p(t,e.createElement(E,{className:"btn btn-xs btn-soft-primary",title:"Ver detalles",onClick:()=>be(a)},e.createElement("i",{className:"fa fa-eye"}))),m("clients","root","all","update")&&p(t,e.createElement(E,{className:"btn btn-xs btn-soft-primary",title:"Editar",onClick:()=>ue(a)},e.createElement("i",{className:"fa fa-pen"}))),a.assigned_to?a.assigned_to==y.id&&p(t,e.createElement(E,{className:"btn btn-xs btn-soft-danger",title:"Dejar de atender",onClick:()=>Q(a.id,!1)},e.createElement("i",{className:"fas fa-hands-wash"}))):p(t,e.createElement(E,{className:"btn btn-xs btn-soft-dark",title:"Atender lead",onClick:()=>Q(a.id,!0)},e.createElement("i",{className:"fas fa-hands-helping"}))),m("clients","root","all","delete")&&p(t,e.createElement(E,{className:"btn btn-xs btn-soft-danger",title:"Eliminar",onClick:()=>fe(a.id)},e.createElement("i",{className:"fa fa-trash-alt"})))},allowFiltering:!1,allowExporting:!1}:null],masterDetail:{enabled:!1,template:async(t,{data:a,component:o})=>{t.css("padding","10px"),t.css("overflow","visible"),t.css("background-color","#323a46");let{data:u}=await Te.paginate({filter:["client_id","=",a.id],isLoadingAll:!0});t.append(Be([e.createElement(e.Fragment,null,e.createElement(E,{title:"Cerrar tabla",className:"btn btn-xs btn-soft-danger waves-effect mb-1",onClick:()=>o.collapseAll(-1)},e.createElement("i",{className:"fa fa-times"})),e.createElement("table",{className:"table table-dark table-sm table-bordered mb-0",style:{width:"100%"}},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{scope:"col"},"Tipo"),e.createElement("th",{scope:"col"},"Asignados"),e.createElement("th",{scope:"col"},"Costo"),e.createElement("th",{scope:"col"},"Pagos"),e.createElement("th",{scope:"col"},"Fecha de desarrollo"),e.createElement("th",{scope:"col"},"Estado del proyecto"),e.createElement("th",{scope:"col"},"Acciones"))),e.createElement("tbody",null,u.map(c=>{const V=(c.total_payments/c.cost*100).toFixed(2),ge=Number(c.total_payments).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),he=Number(c.cost-c.total_payments).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),ye=(c.users||"").split("|").filter(Boolean);return e.createElement("tr",{key:`project-${c.id}`},e.createElement("td",{valign:"middle"},c.type.name),e.createElement("td",{valign:"middle"},Fe(ye)),e.createElement("td",{valign:"middle"},`S/. ${Me(c.cost)}`),e.createElement("td",{valign:"middle"},e.createElement("p",{className:"mb-0 d-flex justify-content-between"},e.createElement("b",{className:"text-success"},e.createElement("i",{className:"fa fa-arrow-circle-up"})," S/. ",ge),e.createElement("b",{className:"float-end text-danger"},e.createElement("i",{className:"fa fa-arrow-circle-down"})," S/. ",he)),e.createElement("div",{className:"progress progress-bar-alt-primary progress-sm mt-0 mb-0",style:{width:"200px"}},e.createElement("div",{className:"progress-bar bg-primary progress-animated wow animated",role:"progressbar","aria-valuenow":c.total_payments,"aria-valuemin":"0","aria-valuemax":c.cost,style:{width:`${V}%`,visibility:"visible",animationName:"animationProgress"}}))),e.createElement("td",{valign:"middle"},Ge(c.starts_at,c.ends_at)),e.createElement("td",{valign:"middle"},e.createElement(Ae,{can:m,statuses:h,data:c,onChange:()=>{$(i.current).dxDataGrid("instance").refresh()}})),e.createElement("td",null,m("projects","root","all","assignUsers")&&e.createElement(E,{className:"btn btn-xs btn-soft-info me-1",title:"Asignar usuarios",icon:"fa fa-user-plus",onClick:()=>K(c)},e.createElement("i",{className:"fa fa-user-plus"})),m("projects","root","all","addpayment")&&e.createElement(E,{className:"btn btn-xs btn-soft-success",title:"Ver/Agregar pagos",icon:"fas fa-money-check-alt",onClick:()=>B(c)},e.createElement("i",{className:"fas fa-money-check-alt"}))))}))))]))}}}),e.createElement(q,{modalRef:C,title:"Detalles del cliente",btnSubmitText:"Guardar",size:"full-width",bodyClass:"p-3 bg-light",isStatic:!0,onSubmit:t=>t.preventDefault(),hideFooter:!0},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"d-flex mb-3"},e.createElement("img",{className:"flex-shrink-0 me-3 rounded-circle avatar-md",alt:l==null?void 0:l.contact_name,src:`//${te.APP_DOMAIN}/api/profile/null`}),e.createElement("div",{className:"flex-grow-1"},e.createElement("h4",{className:"media-heading mt-0"},l==null?void 0:l.contact_name),e.createElement("span",{className:"badge bg-primary me-1"},(l==null?void 0:l.contact_position)||"Trabajador")," ",e.createElement("small",{className:"text-muted"},"desde ",e.createElement("b",null,l==null?void 0:l.origin)))),e.createElement("div",{className:"btn-group mb-0"},e.createElement("span",{className:"btn btn-light btn-sm",style:{cursor:"default",color:"#ffffff",backgroundColor:((Z=l==null?void 0:l.manage_status)==null?void 0:Z.color)||"#6c757d"}},((L=l==null?void 0:l.manage_status)==null?void 0:L.name)||"Sin estado")),e.createElement("hr",null),e.createElement("h4",null,"Datos del contacto"),e.createElement("h5",{className:"font-600 mb-0"},"Correo electronico"),e.createElement("p",{className:"mb-2 text-truncate"}," ",l==null?void 0:l.contact_email," "),e.createElement("h5",{className:"font-600 mb-0"},"Tefono / Celular"),e.createElement("p",{className:"mb-2"}," ",l==null?void 0:l.contact_phone," "),e.createElement("h5",{className:"font-600 mb-0"},"Mensaje"),e.createElement("p",{className:"mb-2"}," ",l==null?void 0:l.message," "),e.createElement("h5",{className:"font-600 mb-0"},"Fecha de registro"),e.createElement("p",{className:"mb-2"},moment(l==null?void 0:l.created_at).format("LL"),e.createElement("br",null),e.createElement("small",{className:"text-muted"},moment(l==null?void 0:l.created_at).format("LTS"))),e.createElement("hr",null),e.createElement("h4",null,"Datos de la empresa"),e.createElement("h5",{className:"font-600 mb-0"},"Nombre comercial"),e.createElement("p",{className:"mb-2"}," ",(l==null?void 0:l.tradename)??e.createElement("i",{className:"text-muted"},"No especifica")," "),e.createElement("h5",{className:"font-600 mb-0"},"RUC"),e.createElement("p",{className:"mb-2"}," ",(l==null?void 0:l.ruc)??e.createElement("i",{className:"text-muted"},"No especifica")," "),e.createElement("h5",{className:"font-600 mb-0"},"NÂ° trabajadores"),e.createElement("p",{className:"mb-2"}," ",(l==null?void 0:l.workers)??e.createElement("i",{className:"text-muted"},"No especifica")," ")),e.createElement("div",{className:"col-lg-6 col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card card-body"},e.createElement("ul",{className:"nav nav-tabs",style:{flexWrap:"nowrap",overflowX:"auto"}},e.createElement("li",{key:"note-type-activity",className:"nav-item"},e.createElement("a",{href:"#note-type-activity","data-bs-toggle":"tab","aria-expanded":"false",className:"nav-link active"},e.createElement("i",{className:"mdi mdi-clock"})," Actividad")),w.sort((t,a)=>t.order-a.order).map((t,a)=>{if(t.name!="Correos")return e.createElement("li",{key:`note-type-${a}`,className:"nav-item"},e.createElement("a",{href:`#note-type-${t.id}`,"data-name":t.name,"data-bs-toggle":"tab","aria-expanded":"false",className:"nav-link"},e.createElement("i",{className:t.icon})," ",t.name))})),e.createElement("div",{className:"tab-content"},e.createElement("div",{key:"tab-note-type-activity",className:"tab-pane active",id:"note-type-activity"},v.sort((t,a)=>a.created_at>t.created_at?1:-1).map((t,a)=>e.createElement(ae,{key:`note-${a}`,...t,showOptions:!1,session:y}))),w.sort((t,a)=>t.order-a.order).map((t,a)=>e.createElement("div",{key:`tab-note-type-${a}`,className:"tab-pane",id:`note-type-${t.id}`},e.createElement("h4",{className:"header-title mb-2"},"Lista de ",t.name),v.filter(o=>o.note_type_id==t.id).sort((o,u)=>u.created_at>o.created_at?1:-1).map((o,u)=>e.createElement(ae,{key:`note-${u}`,...o,session:y}))))))),e.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body"},e.createElement("h5",{className:"header-title"},"Lista de tareas"),e.createElement("hr",null),O.length>0?O.sort((t,a)=>t.ends_at>a.ends_at?1:-1).map((t,a)=>e.createElement(Ce,{key:`task-${a}`,...t})):e.createElement("i",{className:"text-muted"},"- No hay tareas pendientes -")))))),e.createElement(q,{modalRef:f,title:R?"Editar cliente":"Agregar cliente",onSubmit:de,size:"md"},e.createElement("input",{ref:N,type:"hidden"}),e.createElement("ul",{className:"nav nav-pills navtab-bg nav-justified"},e.createElement("li",{className:"nav-item"},e.createElement(W,{content:"Datos del negocio"},e.createElement("a",{href:"#client-data","data-bs-toggle":"tab","aria-expanded":"false",className:"nav-link active"},"Negocio"))),e.createElement("li",{className:"nav-item"},e.createElement(W,{content:"Datos de contacto"},e.createElement("a",{href:"#contact-data","data-bs-toggle":"tab","aria-expanded":"true",className:"nav-link"},"Contacto")))),e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"tab-pane active",id:"client-data"},e.createElement("div",{className:"row"},e.createElement(g,{eRef:D,label:"RUC",col:"col-4",required:!0}),e.createElement(g,{eRef:S,label:"Nombre comercial",col:"col-8",required:!0}),e.createElement(g,{eRef:_,label:"Razon social",col:"col-md-6",required:!0}),e.createElement(g,{eRef:A,label:"URL Web",col:"col-md-6"}),e.createElement(X,{eRef:k,label:"Mensaje",col:"col-12",required:!0}))),e.createElement("div",{className:"tab-pane show",id:"contact-data"},e.createElement("div",{className:"row"},e.createElement(g,{eRef:T,label:"Nombre de contacto",col:"col-6"}),e.createElement(g,{eRef:F,label:"Celular de contacto",type:"tel",col:"col-6"}),e.createElement(g,{eRef:s,label:"Email de contacto",col:"col-12",type:"email"}),e.createElement(X,{eRef:d,label:"Direccion de contacto",col:"col-12"}))))),e.createElement($e,{can:m,dataLoaded:J,setDataLoaded:B,grid2refresh:oe}),e.createElement(ze,{can:m,client:me,setClient:ie,grid2refresh:i,page:"clients"}),e.createElement(Se,{dataLoaded:ce,setDataLoaded:K,grid2refresh:$(i.current).dxDataGrid("instance")}))};xe((h,r)=>{if(!r.can("clients","root","all","list"))return location.href="/";Re(h).render(e.createElement(we,{...r,title:"Clientes"},e.createElement(Ue,{...r})))});
