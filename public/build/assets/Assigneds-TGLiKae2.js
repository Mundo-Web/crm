var d=Object.defineProperty;var g=(i,t,e)=>t in i?d(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var n=(i,t,e)=>g(i,typeof t!="symbol"?t+"":t,e);import{m as s,R as o}from"./CreateReactScript-Dcnwm1IN.js";import{i as p}from"./Adminto-BIdJUGeV.js";import{r as u}from"./server.browser-CSCYH58z.js";class c{}n(c,"paginate",async t=>{const{result:e}=await s.Fetch("/api/projects/paginate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});return e}),n(c,"save",async t=>{try{const{status:e,result:a}=await s.Fetch("/api/projects",{method:"POST",body:JSON.stringify(t)});if(!e)throw new Error((a==null?void 0:a.message)||"Ocurrio un error inesperado");return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:a.message,type:"success"}),!0}catch(e){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),!1}}),n(c,"status",async({id:t,status:e})=>{try{const{status:a,result:r}=await s.Fetch("/api/projects/status",{method:"PATCH",body:JSON.stringify({id:t,status:e})});if(!a)throw new Error((r==null?void 0:r.message)??"Ocurrio un error inesperado");return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:r.message,type:"success"}),!0}catch(a){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:a.message,type:"danger"}),!1}}),n(c,"projectStatus",async(t,e)=>{try{const{status:a,result:r}=await s.Fetch("/api/projects/project-status",{method:"PATCH",body:JSON.stringify({project:t,status:e})});if(!a)throw new Error((r==null?void 0:r.message)??"Ocurrio un error inesperado");return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:r.message,type:"success"}),!0}catch(a){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:a.message,type:"danger"}),!1}}),n(c,"delete",async t=>{try{const{status:e,result:a}=await s.Fetch(`/api/projects/${t}`,{method:"DELETE"});if(!e)throw new Error((a==null?void 0:a.message)??"Ocurrio un error inesperado");return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:a.message,type:"success"}),!0}catch(e){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),!1}});class m{}n(m,"getUser",async t=>{const{result:e}=await s.Fetch(`/api/users-by-projects/${t}`);return(e==null?void 0:e.data)??null}),n(m,"byProject",async t=>{const{result:e}=await s.Fetch(`/api/users-by-projects/project/${t}`);return(e==null?void 0:e.data)??[]}),n(m,"massiveByProject",async t=>{try{const{status:e,result:a}=await s.Fetch("/api/users-by-projects/project",{method:"PATCH",body:JSON.stringify(t)});if(!e)throw new Error((a==null?void 0:a.message)||"Ocurrio un error inesperado");return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:a.message,type:"success"}),!0}catch(e){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),!1}});const E=i=>o.createElement("div",{className:"avatar-group m-0"},i.map(t=>o.createElement(p,{key:`user-${t}`,content:"Cargando...",allowHTML:!0,onShow:async e=>{const a=await m.getUser(t),r=moment(a.created_at),l=moment().diff(r,"hours")>12?r.format("lll"):r.fromNow();$(e.popper).find(".tippy-content").addClass("p-0"),e.setContent(u(o.createElement("div",{className:"card mb-0",style:{boxShadow:"0 0 10px rgba(0, 0, 0, 0.25)"}},o.createElement("div",{className:"card-body widget-user p-2"},o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"avatar-lg me-3 flex-shrink-0"},o.createElement("img",{src:`/api/profile/thumbnail/${t}`,className:"img-fluid rounded-circle",alt:"user"})),o.createElement("div",{className:"flex-grow-1 overflow-hidden"},o.createElement("h5",{className:"text-blue mt-0 mb-1"}," ",a.name," ",a.lastname),o.createElement("p",{className:"text-dark mb-1 font-13 text-truncate"},a.email),o.createElement("small",{className:"text-muted"},"Asignado: ",o.createElement("b",null,l))))))))}},o.createElement("img",{className:"avatar-group-item avatar-xs rounded-circle mb-0",src:`/api/profile/thumbnail/${t}`,style:{backdropFilter:"blur(40px)",marginRight:"6px"}}))));export{E as A,c as P,m as U};
