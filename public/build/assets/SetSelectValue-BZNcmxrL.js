import{r as f,m,j as l}from"./CreateReactScript-CUSYjr37.js";const E=({col:o,label:e,eRef:s,required:r=!1,dropdownParent:n,searchAPI:c,searchBy:t,noMargin:x=!1,multiple:g=!1,filter:u=null})=>(s||(s=f.useRef()),f.useEffect(()=>{$(s.current).select2({dropdownParent:n,minimumInputLength:0,ajax:{url:c,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(m.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:a,page:i}){return m.JSON.stringify({sort:[{selector:t,desc:!1}],skip:((i??1)-1)*10,take:10,filter:u?[[t,"contains",a],"and",u]:[t,"contains",a]})},processResults:function(a,{page:i}){return{results:((a==null?void 0:a.data)??[]).map(p=>m.JSON.flatten(p)).map(({id:p,[t]:j})=>({id:p,text:j})),pagination:{more:(i??1)*10<a.totalCount}}}}})},[n]),l.jsxs("div",{className:`form-group ${o} ${!x&&"mb-2"}`,children:[l.jsxs("label",{htmlFor:"",className:"mb-1 form-label",children:[e," ",r&&l.jsx("b",{className:"text-danger",children:"*"})]}),l.jsx("select",{ref:s,required:r,className:"form-control",style:{width:"100%"},multiple:g})]})),N=(o,e,s,r)=>{if($(o).empty(),!!e){if(Array.isArray(e))e.forEach(({[s]:n,[r]:c})=>{const t=document.createElement("option");t.value=n,t.text=c,t.selected=!0,$(o).append(t)});else{const n=document.createElement("option");n.value=e,n.text=s??e,$(o).append(n),$(o).val(e)}$(o).trigger("change")}};export{N as S,E as a};
