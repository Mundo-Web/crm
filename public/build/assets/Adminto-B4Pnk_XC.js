var Lr=Object.defineProperty;var Pr=(e,t,r)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Y=(e,t,r)=>Pr(e,typeof t!="symbol"?t+"":t,r);import{m as S,j as n,A as Br,r as U,R as wt,d as Mr,G as ht,L as Fr}from"./CreateReactScript-9UX3kXBD.js";import{S as Ir,T as Hr}from"./index-yz4sAZmo.js";const Ur=()=>{const e=S.Local.get("adminto_settings")??{},t=document.getElementById("bs-default-stylesheet"),r=document.getElementById("bs-dark-stylesheet"),i=document.getElementById("app-default-stylesheet"),a=document.getElementById("app-dark-stylesheet"),o=document.getElementById("dg-default-stylesheet"),c=document.getElementById("dg-dark-stylesheet");e.theme=="dark"?(r.disabled=!1,a.disabled=!1,c.disabled=!1,t.disabled=!0,i.disabled=!0,o.disabled=!0):(t.disabled=!1,i.disabled=!1,o.disabled=!1,r.disabled=!0,a.disabled=!0,c.disabled=!0);const l=document.body;return l.setAttribute("data-layout-width",e.width??"fluid"),l.setAttribute("data-layout-menu-position",e.menuPosition??"fixed"),l.setAttribute("data-sidebar-color",e.menuColor??"light"),l.setAttribute("data-sidebar-showuser",e.userInfo??!0),l.setAttribute("data-sidebar-size",e.menuSize??"default"),l.setAttribute("data-topbar-color",e.navbarColor??"light"),n.jsx("div",{className:"right-bar",children:n.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[n.jsxs("div",{className:"rightbar-title",children:[n.jsx("a",{href:"#",className:"right-bar-toggle float-end",children:n.jsx("i",{className:"mdi mdi-close"})}),n.jsx("h4",{className:"font-16 m-0 text-white",children:"Configurar tema"})]}),n.jsx("div",{className:"tab-content pt-0",children:n.jsx("div",{className:"tab-pane active",id:"settings-tab",role:"tabpanel",children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"alert alert-warning",role:"alert",children:[n.jsx("strong",{children:"Modifica "})," el tema, el menu, la barra superior, etc."]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Tema principal"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"checkbox",className:"form-check-input",name:"color-scheme-mode",id:"light-mode-check",defaultChecked:e.theme=="dark"}),n.jsx("label",{className:"form-check-label",htmlFor:"light-mode-check",children:e.theme=="dark"?"Modo oscuro":"Modo claro"})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Ancho de la ventana"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"checkbox",className:"form-check-input",name:"width",id:"fluid-check",defaultChecked:e.width=="boxed"}),n.jsx("label",{className:"form-check-label",htmlFor:"fluid-check",children:e.width=="boxed"?"Encuadrado":"Completo"})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Posicion del menu y el nabvar"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"checkbox",className:"form-check-input",name:"menus-position",id:"fixed-check",defaultChecked:e.menuPosition=="scrollable"}),n.jsx("label",{className:"form-check-label",htmlFor:"fixed-check",children:e.menuPosition=="scrollable"?"Posision dinamica":"Posicion fija"})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Color del menu"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"light",id:"light-check",defaultChecked:!e.menuColor||e.menuColor=="light"}),n.jsx("label",{className:"form-check-label",htmlFor:"light-check",children:"Claro"})]}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"dark",id:"dark-check",defaultChecked:e.menuColor=="dark"}),n.jsx("label",{className:"form-check-label",htmlFor:"dark-check",children:"Oscuro"})]}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"brand",id:"brand-check",defaultChecked:e.menuColor=="brand"}),n.jsx("label",{className:"form-check-label",htmlFor:"brand-check",children:"Brand"})]}),n.jsxs("div",{className:"form-check form-switch mb-3",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"gradient",id:"gradient-check",defaultChecked:e.menuColor=="gradient"}),n.jsx("label",{className:"form-check-label",htmlFor:"gradient-check",children:"Gradiente"})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Medida del menu"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"default",id:"default-size-check",defaultChecked:!e.menuSize||e.menuSize=="default"}),n.jsx("label",{className:"form-check-label",htmlFor:"default-size-check",children:"Por defecto"})]}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"condensed",id:"condensed-check",defaultChecked:e.menuSize=="condensed"}),n.jsxs("label",{className:"form-check-label",htmlFor:"condensed-check",children:["Condensado ",n.jsx("small",{children:"(Tamaño extra pequeño)"})]})]}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"compact",id:"compact-check",defaultChecked:e.menuSize=="compact"}),n.jsxs("label",{className:"form-check-label",htmlFor:"compact-check",children:["Compacto ",n.jsx("small",{children:"(Tamaño pequeño)"})]})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Informacion del Usuario (Menu)"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"checkbox",className:"form-check-input",name:"leftsidebar-user",value:"fixed",id:"sidebaruser-check",defaultChecked:e.userInfo!=!1}),n.jsx("label",{className:"form-check-label",htmlFor:"sidebaruser-check",children:e.userInfo=="false"?"Ocultar":"Mostrar"})]}),n.jsx("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1",children:"Color de la barra superior"}),n.jsxs("div",{className:"form-check form-switch mb-1",children:[n.jsx("input",{type:"checkbox",className:"form-check-input",name:"topbar-color",value:"dark",id:"darktopbar-check",defaultChecked:e.navbarColor=="dark"}),n.jsx("label",{className:"form-check-label",htmlFor:"darktopbar-check",children:e.navbarColor=="dark"?"Oscuro":"Acorde al cuerpo"})]}),n.jsx("div",{className:"d-grid mt-4",children:n.jsx("button",{className:"btn btn-primary",id:"resetBtn",children:"Restablecer"})})]})})})]})})},Vr=async()=>{try{const{status:e,result:t}=await S.Fetch("/api/logout",{method:"DELETE"});if(!e)throw new Error((t==null?void 0:t.message)||"Ocurrio un error al cerrar sesion");S.Notify.add({icon:"/assets/img/logo-login.svg",title:"Cierre de sesion exitoso",body:"Sera enviado a la pantalla de autenticacion"}),location.reload()}catch(e){S.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"})}},ir={null:{icon:"mdi mdi-qrcode",text:"Inicia sesión en WhatsApp",color:"dark"},verifying:{icon:"fa fa-spinner fa-spin",text:"Verificando sesión...",color:"secondary"},qr:{icon:"mdi mdi-qrcode-scan",text:"Escanea el QR",color:"danger"},loading_screen:{icon:"fa fa-spinner fa-spin",text:"Cargando...",color:"secondary"},authenticated:{icon:"fa fa-check",text:"Sesión activa",color:"primary"},ready:{icon:"fa fa-check",text:"Sesión activa y lista",color:"success"},close:{icon:"fa fa-warning",text:"Sesión cerrada",color:"danger"}},ar=({id:e,uuid:t,name:r,person:i,session:a,APP_PROTOCOL:o,APP_DOMAIN:c})=>{const l=e!=a.business_id,d=async()=>{await Br.activeService(t)&&location.reload()};return n.jsx("span",{className:"dropdown-item notify-item",style:{cursor:l?"pointer":"default"},onClick:d,children:n.jsxs("div",{className:"d-flex align-items-start",children:[n.jsx("img",{className:"d-flex me-2 rounded-circle",src:`//${c}/api/logo/thumbnail/null`,alt:r,height:"32"}),n.jsxs("div",{className:"w-100",children:[n.jsx("h5",{className:`m-0 font-14 ${!l&&"text-primary"} text-truncate`,style:{width:"115px"},children:r}),n.jsxs("span",{className:"font-12 mb-0",children:["RUC: ",i.document_number]})]})]})})};class sr{constructor(){Y(this,"path",null);Y(this,"hasFiles",!1);Y(this,"controller",null);Y(this,"paginateSufix",null);Y(this,"paginate",async t=>{this.controller.abort("Nothing"),this.controller=new AbortController;const r=this.controller.signal,a=await(await fetch(`/api/${this.path}/paginate${this.paginateSufix?`/${this.paginateSufix}`:""}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(S.Cookies.get("XSRF-TOKEN"))},body:S.JSON.stringify(t),signal:r})).text();return S.JSON.parseable(a)?S.JSON.parse(a):null});Y(this,"save",async(t,r=!0)=>{try{let i=!1,a={};if(this.hasFiles){const o=await fetch(`/api/${this.path}`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(S.Cookies.get("XSRF-TOKEN"))},body:t});i=o.ok,a=S.JSON.parseable(await o.text())}else{const o=await S.Fetch(`/api/${this.path}`,{method:"POST",body:S.JSON.stringify(t)});i=o.status,a=o.result}if(!i)throw new Error((a==null?void 0:a.message)||"Ocurrio un error inesperado");return r&&S.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:a.message,type:"success"}),a.data||!0}catch(i){return r&&S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),null}});Y(this,"status",async({id:t,status:r})=>{try{const{status:i,result:a}=await S.Fetch(`/api/${this.path}/status`,{method:"PATCH",body:S.JSON.stringify({id:t,status:r})});if(!i)throw new Error((a==null?void 0:a.message)??"Ocurrio un error inesperado");return S.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:a.message,type:"success"}),a}catch(i){return S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),!1}});Y(this,"boolean",async({id:t,field:r,value:i},a=!0)=>{try{const{status:o,result:c}=await S.Fetch(`/api/${this.path}/boolean`,{method:"PATCH",body:S.JSON.stringify({id:t,field:r,value:i})});if(!o)throw new Error((c==null?void 0:c.message)??"Ocurrio un error inesperado");return a&&S.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:c.message,type:"success"}),!0}catch(o){return S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:o.message,type:"danger"}),!1}});Y(this,"delete",async t=>{try{const{status:r,result:i}=await S.Fetch(`/api/${this.path}/${t}`,{method:"DELETE"});if(!r)throw new Error((i==null?void 0:i.message)??"Ocurrio un error inesperado");return S.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:i.message,type:"success"}),!0}catch(r){return S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:r.message,type:"danger"}),!1}});this.controller=new AbortController}}class Tt extends sr{constructor(){super(...arguments);Y(this,"path","notifications")}}const Wr=new Tt,qr=({id:e,name:t,message:r,description:i,created_at:a,link_to:o,creator:c,icon:l,APP_DOMAIN:d})=>{const m=async()=>{await Wr.boolean({id:e,field:"seen",value:!0},!1)&&(location.href=`${o}#${e}`)};return n.jsx(n.Fragment,{children:n.jsxs("div",{style:{cursor:"pointer"},className:"dropdown-item notify-item",onClick:m,children:[n.jsx("div",{className:`notify-icon ${c?"":"bg-primary"}`,children:c?n.jsxs("div",{className:"position-relative",children:[n.jsx("img",{src:`//${d}/api/profile/${c.relative_id}`,className:"img-fluid rounded-circle",alt:c.fullname}),n.jsx("span",{className:"position-absolute top-100 translate-middle badge rounded-pill bg-success text-sm",children:n.jsx("small",{className:l})})]}):n.jsx("i",{className:l})}),n.jsx("p",{className:"notify-details mb-0",style:{paddingLeft:"8px"},children:t}),n.jsx("p",{className:"text-muted mb-1 user-msg",style:{paddingLeft:"8px"},children:r}),i&&n.jsx("p",{className:"notify-details mb-1 border py-1 px-2",style:{borderRadius:"4px",textWrap:"wrap",maxHeight:"48px",overflow:"hidden",lineClamp:2,textOverflow:"ellipsis",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical"},children:n.jsx("small",{children:i})}),n.jsx("p",{className:"text-muted mb-0 user-msg",children:n.jsx("small",{children:moment(a).format("LLL")})})]})})},_r=new Tt,zr=({can:e,session:t={},theme:r,setTheme:i,title:a="",whatsappStatus:o,businesses:c,APP_PROTOCOL:l,APP_DOMAIN:d,notificationsCount:m})=>{const{color:f}=ir[o],[g,O]=U.useState(m),[p,y]=U.useState([]);U.useEffect(()=>(document.title=`${a} | Atalaya`,$(document).on("change","#light-mode-check",w=>{i(w.target.checked?"dark":"light")}),()=>{$(document).off("change","#light-mode-check")}),[r]);const x=c.filter(({id:w})=>t.business_id!=w),j=async()=>{if(!$("#notifications").is(":visible"))return;const{data:k,totalCount:T}=await _r.paginate({requireTotalCount:!0});O(T),y(k??[])};return U.useEffect(()=>{const w=new Tt,k=()=>Math.random()*5e3+5e3,T=async()=>{const{totalCount:C,status:h}=await w.paginate({requireTotalCount:!0,requireData:!1});h==200&&O(C)};T();const s=setInterval(T,k());return()=>clearInterval(s)},[g]),n.jsxs("div",{className:`navbar-custom border-bottom ${r=="light"?"bg-white":""}`,style:{backgroundColor:r=="light"?void 0:"#313844"},children:[n.jsxs("ul",{className:"list-unstyled topnav-menu float-end mb-0",children:[n.jsx("li",{className:"dropdown notification-list d-none d-lg-block",children:n.jsx("div",{className:"nav-link",children:n.jsx("label",{htmlFor:"light-mode-check",type:"button",className:`btn btn-xs ${r=="dark","btn-secondary"} rounded-pill waves-effect waves-light`,children:r=="dark"?n.jsxs(n.Fragment,{children:["Light",n.jsx("span",{className:"btn-label-right ms-1",style:{paddingLeft:"6px"},children:n.jsx("i",{className:"mdi mdi-weather-sunny"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"btn-label me-1",style:{paddingRight:"6px"},children:n.jsx("i",{className:"mdi mdi-moon-waning-crescent"})}),"Dark"]})})})}),e("whatsapp","root","all")&&n.jsx("li",{className:"notification-list topbar-dropdown d-none d-lg-block",children:n.jsx("a",{className:"nav-link waves-effect waves-light","data-bs-toggle":"modal","data-bs-target":"#whatsapp-modal",children:n.jsxs("span",{className:"position-relative",children:[n.jsx("i",{className:"mdi mdi-whatsapp noti-icon"}),n.jsx("span",{className:`position-absolute top-0 start-100 translate-middle p-1 bg-${f} rounded-circle`,children:n.jsx("span",{className:"visually-hidden",children:"New alerts"})})]})})}),n.jsxs("li",{className:"dropdown notification-list topbar-dropdown",children:[n.jsxs("a",{className:"nav-link dropdown-toggle waves-effect waves-light","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"false","aria-expanded":"false",onClick:j,children:[n.jsx("i",{className:`fe-bell noti-icon rounded-pill ${g>0&&"pulse"}`}),g>0?n.jsx("span",{className:"badge bg-danger rounded-circle noti-icon-badge",children:g}):""]}),n.jsxs("div",{id:"notifications",className:"dropdown-menu dropdown-menu-end dropdown-lg",children:[n.jsx("div",{className:"dropdown-item noti-title",children:n.jsx("h5",{className:"m-0",children:"Notificaciones"})}),n.jsx("div",{className:"noti-scroll",style:{maxHeight:"230px",overflowY:"auto"},children:p.map((w,k)=>n.jsx(qr,{...w,APP_DOMAIN:d},`notification-${k}`))})]})]}),n.jsxs("li",{className:"dropdown notification-list topbar-dropdown",children:[n.jsxs("a",{className:"nav-link dropdown-toggle nav-user me-0 waves-effect waves-light","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"false","aria-expanded":"false",children:[n.jsx("img",{src:`//${d}/api/profile/thumbnail/${t.relative_id}?v=${crypto.randomUUID()}`,alt:"user-image",className:"rounded-circle",style:{objectFit:"cover",objectPosition:"center"}}),n.jsxs("span",{className:"pro-user-name ms-1",children:[t.name.split(" ")[0]," ",t.lastname.split(" ")[0],n.jsx("i",{className:"mdi mdi-chevron-down"})]})]}),n.jsxs("div",{className:"dropdown-menu dropdown-menu-end profile-dropdown ",children:[n.jsx("div",{className:"dropdown-header noti-title",children:n.jsx("h6",{className:"text-overflow m-0",children:"Bienvenido !"})}),n.jsxs("a",{href:`//${d}/profile`,className:"dropdown-item notify-item",children:[n.jsx("i",{className:"fe-user"}),n.jsx("span",{children:"Mi perfil"})]}),n.jsxs("a",{href:`//${d}/account`,className:"dropdown-item notify-item",children:[n.jsx("i",{className:"mdi mdi-account-key-outline"}),n.jsx("span",{children:"Mi cuenta"})]}),x.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"dropdown-header noti-title",children:n.jsx("h6",{className:"text-overflow m-0",children:"Otras empresas"})}),n.jsx("div",{className:"notification-list",children:x.map((w,k)=>n.jsx(ar,{...w,session:t,APP_PROTOCOL:l,APP_DOMAIN:d},`business-${k}`))})]}),n.jsx("div",{className:"dropdown-divider"}),n.jsxs("a",{href:"#",className:"dropdown-item notify-item",onClick:Vr,children:[n.jsx("i",{className:"fe-log-out"}),n.jsx("span",{children:"Cerrar sesion"})]})]})]})]}),n.jsxs("div",{className:"logo-box border-bottom",children:[n.jsxs("a",{href:"/",className:"logo logo-light text-center",children:[n.jsx("span",{className:"logo-sm",children:n.jsx("img",{src:"/assets/img/icon.svg?v=gracias-manuel-de-nada-manuel",alt:"",height:"22"})}),n.jsx("span",{className:"logo-lg",children:n.jsx("img",{src:"/assets/img/logo.svg?v=gracias-manuel-de-nada-manuel",alt:"",height:"32"})})]}),n.jsxs("a",{href:"/",className:"logo logo-dark text-center",children:[n.jsx("span",{className:"logo-sm",children:n.jsx("img",{src:"/assets/img/icon-dark.svg?v=gracias-manuel-de-nada-manuel",alt:"",height:"22"})}),n.jsx("span",{className:"logo-lg",children:n.jsx("img",{src:"/assets/img/logo-dark.svg?v=gracias-manuel-de-nada-manuel",alt:"",height:"32"})})]})]}),n.jsx("ul",{className:"list-unstyled topnav-menu topnav-menu-left mb-0",children:n.jsx("li",{children:n.jsx("button",{className:"button-menu-mobile disable-btn waves-effect",children:n.jsx("i",{className:"fe-menu"})})})}),n.jsx("div",{className:"clearfix"})]})},W=({id:e,href:t,icon:r,children:i,badge:a})=>n.jsx("li",{className:location.pathname==t?"menuitem-active":"",children:n.jsxs("a",{id:e,href:t,className:location.pathname==t?"active":"",children:[n.jsx("i",{className:r}),a&&n.jsx("span",{className:"badge bg-info float-end text-truncate",children:a}),n.jsxs("span",{children:[" ",i," "]})]})}),$e=({title:e,icon:t,children:r})=>{var c;const i=[];Array.isArray(r)?r.forEach(l=>{var d;return i.push((d=l==null?void 0:l.props)==null?void 0:d.href)}):i.push((c=r==null?void 0:r.props)==null?void 0:c.href);const a=i.filter(Boolean).some(l=>location.pathname.includes(l)),o=`item-${crypto.randomUUID()}`;return n.jsxs("li",{children:[n.jsxs("a",{href:`#${o}`,"data-bs-toggle":"collapse","aria-expanded":a,children:[n.jsx("i",{className:t}),n.jsxs("span",{children:[" ",e," "]}),n.jsx("span",{className:"menu-arrow"})]}),n.jsx("div",{className:`collapse ${a&&"show"}`,id:o,children:n.jsx("ul",{className:"nav-second-level",children:r})})]})};var J="top",te="bottom",re="right",G="left",$t="auto",ze=[J,te,re,G],De="start",qe="end",Xr="clippingParents",or="viewport",He="popper",Yr="reference",Ft=ze.reduce(function(e,t){return e.concat([t+"-"+De,t+"-"+qe])},[]),cr=[].concat(ze,[$t]).reduce(function(e,t){return e.concat([t,t+"-"+De,t+"-"+qe])},[]),Jr="beforeRead",Gr="read",Kr="afterRead",Qr="beforeMain",Zr="main",en="afterMain",tn="beforeWrite",rn="write",nn="afterWrite",an=[Jr,Gr,Kr,Qr,Zr,en,tn,rn,nn];function ce(e){return e?(e.nodeName||"").toLowerCase():null}function K(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ne(e){var t=K(e).Element;return e instanceof t||e instanceof Element}function ee(e){var t=K(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function At(e){if(typeof ShadowRoot>"u")return!1;var t=K(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function sn(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},a=t.attributes[r]||{},o=t.elements[r];!ee(o)||!ce(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(c){var l=a[c];l===!1?o.removeAttribute(c):o.setAttribute(c,l===!0?"":l)}))})}function on(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var a=t.elements[i],o=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),l=c.reduce(function(d,m){return d[m]="",d},{});!ee(a)||!ce(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(d){a.removeAttribute(d)}))})}}const lr={name:"applyStyles",enabled:!0,phase:"write",fn:sn,effect:on,requires:["computeStyles"]};function oe(e){return e.split("-")[0]}var je=Math.max,lt=Math.min,Se=Math.round;function jt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dr(){return!/^((?!chrome|android).)*safari/i.test(jt())}function Re(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=e.getBoundingClientRect(),a=1,o=1;t&&ee(e)&&(a=e.offsetWidth>0&&Se(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Se(i.height)/e.offsetHeight||1);var c=Ne(e)?K(e):window,l=c.visualViewport,d=!dr()&&r,m=(i.left+(d&&l?l.offsetLeft:0))/a,f=(i.top+(d&&l?l.offsetTop:0))/o,g=i.width/a,O=i.height/o;return{width:g,height:O,top:f,right:m+g,bottom:f+O,left:m,x:m,y:f}}function Dt(e){var t=Re(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function ur(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&At(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function pe(e){return K(e).getComputedStyle(e)}function cn(e){return["table","td","th"].indexOf(ce(e))>=0}function ve(e){return((Ne(e)?e.ownerDocument:e.document)||window.document).documentElement}function ut(e){return ce(e)==="html"?e:e.assignedSlot||e.parentNode||(At(e)?e.host:null)||ve(e)}function It(e){return!ee(e)||pe(e).position==="fixed"?null:e.offsetParent}function ln(e){var t=/firefox/i.test(jt()),r=/Trident/i.test(jt());if(r&&ee(e)){var i=pe(e);if(i.position==="fixed")return null}var a=ut(e);for(At(a)&&(a=a.host);ee(a)&&["html","body"].indexOf(ce(a))<0;){var o=pe(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Xe(e){for(var t=K(e),r=It(e);r&&cn(r)&&pe(r).position==="static";)r=It(r);return r&&(ce(r)==="html"||ce(r)==="body"&&pe(r).position==="static")?t:r||ln(e)||t}function St(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ue(e,t,r){return je(e,lt(t,r))}function dn(e,t,r){var i=Ue(e,t,r);return i>r?r:i}function fr(){return{top:0,right:0,bottom:0,left:0}}function pr(e){return Object.assign({},fr(),e)}function mr(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var un=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,pr(typeof t!="number"?t:mr(t,ze))};function fn(e){var t,r=e.state,i=e.name,a=e.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,l=oe(r.placement),d=St(l),m=[G,re].indexOf(l)>=0,f=m?"height":"width";if(!(!o||!c)){var g=un(a.padding,r),O=Dt(o),p=d==="y"?J:G,y=d==="y"?te:re,x=r.rects.reference[f]+r.rects.reference[d]-c[d]-r.rects.popper[f],j=c[d]-r.rects.reference[d],w=Xe(o),k=w?d==="y"?w.clientHeight||0:w.clientWidth||0:0,T=x/2-j/2,s=g[p],C=k-O[f]-g[y],h=k/2-O[f]/2+T,L=Ue(s,h,C),I=d;r.modifiersData[i]=(t={},t[I]=L,t.centerOffset=L-h,t)}}function pn(e){var t=e.state,r=e.options,i=r.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||ur(t.elements.popper,a)&&(t.elements.arrow=a))}const mn={name:"arrow",enabled:!0,phase:"main",fn,effect:pn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Le(e){return e.split("-")[1]}var hn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vn(e,t){var r=e.x,i=e.y,a=t.devicePixelRatio||1;return{x:Se(r*a)/a||0,y:Se(i*a)/a||0}}function Ht(e){var t,r=e.popper,i=e.popperRect,a=e.placement,o=e.variation,c=e.offsets,l=e.position,d=e.gpuAcceleration,m=e.adaptive,f=e.roundOffsets,g=e.isFixed,O=c.x,p=O===void 0?0:O,y=c.y,x=y===void 0?0:y,j=typeof f=="function"?f({x:p,y:x}):{x:p,y:x};p=j.x,x=j.y;var w=c.hasOwnProperty("x"),k=c.hasOwnProperty("y"),T=G,s=J,C=window;if(m){var h=Xe(r),L="clientHeight",I="clientWidth";if(h===K(r)&&(h=ve(r),pe(h).position!=="static"&&l==="absolute"&&(L="scrollHeight",I="scrollWidth")),h=h,a===J||(a===G||a===re)&&o===qe){s=te;var A=g&&h===C&&C.visualViewport?C.visualViewport.height:h[L];x-=A-i.height,x*=d?1:-1}if(a===G||(a===J||a===te)&&o===qe){T=re;var b=g&&h===C&&C.visualViewport?C.visualViewport.width:h[I];p-=b-i.width,p*=d?1:-1}}var R=Object.assign({position:l},m&&hn),M=f===!0?vn({x:p,y:x},K(r)):{x:p,y:x};if(p=M.x,x=M.y,d){var B;return Object.assign({},R,(B={},B[s]=k?"0":"",B[T]=w?"0":"",B.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+x+"px)":"translate3d("+p+"px, "+x+"px, 0)",B))}return Object.assign({},R,(t={},t[s]=k?x+"px":"",t[T]=w?p+"px":"",t.transform="",t))}function gn(e){var t=e.state,r=e.options,i=r.gpuAcceleration,a=i===void 0?!0:i,o=r.adaptive,c=o===void 0?!0:o,l=r.roundOffsets,d=l===void 0?!0:l,m={placement:oe(t.placement),variation:Le(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ht(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ht(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gn,data:{}};var st={passive:!0};function xn(e){var t=e.state,r=e.instance,i=e.options,a=i.scroll,o=a===void 0?!0:a,c=i.resize,l=c===void 0?!0:c,d=K(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&m.forEach(function(f){f.addEventListener("scroll",r.update,st)}),l&&d.addEventListener("resize",r.update,st),function(){o&&m.forEach(function(f){f.removeEventListener("scroll",r.update,st)}),l&&d.removeEventListener("resize",r.update,st)}}const yn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xn,data:{}};var wn={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(e){return e.replace(/left|right|bottom|top/g,function(t){return wn[t]})}var jn={start:"end",end:"start"};function Ut(e){return e.replace(/start|end/g,function(t){return jn[t]})}function Rt(e){var t=K(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function Lt(e){return Re(ve(e)).left+Rt(e).scrollLeft}function Nn(e,t){var r=K(e),i=ve(e),a=r.visualViewport,o=i.clientWidth,c=i.clientHeight,l=0,d=0;if(a){o=a.width,c=a.height;var m=dr();(m||!m&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:c,x:l+Lt(e),y:d}}function On(e){var t,r=ve(e),i=Rt(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=je(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=je(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-i.scrollLeft+Lt(e),d=-i.scrollTop;return pe(a||r).direction==="rtl"&&(l+=je(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:c,x:l,y:d}}function Pt(e){var t=pe(e),r=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+i)}function hr(e){return["html","body","#document"].indexOf(ce(e))>=0?e.ownerDocument.body:ee(e)&&Pt(e)?e:hr(ut(e))}function Ve(e,t){var r;t===void 0&&(t=[]);var i=hr(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=K(i),c=a?[o].concat(o.visualViewport||[],Pt(i)?i:[]):i,l=t.concat(c);return a?l:l.concat(Ve(ut(c)))}function Nt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kn(e,t){var r=Re(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Vt(e,t,r){return t===or?Nt(Nn(e,r)):Ne(t)?kn(t,r):Nt(On(ve(e)))}function En(e){var t=Ve(ut(e)),r=["absolute","fixed"].indexOf(pe(e).position)>=0,i=r&&ee(e)?Xe(e):e;return Ne(i)?t.filter(function(a){return Ne(a)&&ur(a,i)&&ce(a)!=="body"}):[]}function Cn(e,t,r,i){var a=t==="clippingParents"?En(e):[].concat(t),o=[].concat(a,[r]),c=o[0],l=o.reduce(function(d,m){var f=Vt(e,m,i);return d.top=je(f.top,d.top),d.right=lt(f.right,d.right),d.bottom=lt(f.bottom,d.bottom),d.left=je(f.left,d.left),d},Vt(e,c,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function vr(e){var t=e.reference,r=e.element,i=e.placement,a=i?oe(i):null,o=i?Le(i):null,c=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,d;switch(a){case J:d={x:c,y:t.y-r.height};break;case te:d={x:c,y:t.y+t.height};break;case re:d={x:t.x+t.width,y:l};break;case G:d={x:t.x-r.width,y:l};break;default:d={x:t.x,y:t.y}}var m=a?St(a):null;if(m!=null){var f=m==="y"?"height":"width";switch(o){case De:d[m]=d[m]-(t[f]/2-r[f]/2);break;case qe:d[m]=d[m]+(t[f]/2-r[f]/2);break}}return d}function _e(e,t){t===void 0&&(t={});var r=t,i=r.placement,a=i===void 0?e.placement:i,o=r.strategy,c=o===void 0?e.strategy:o,l=r.boundary,d=l===void 0?Xr:l,m=r.rootBoundary,f=m===void 0?or:m,g=r.elementContext,O=g===void 0?He:g,p=r.altBoundary,y=p===void 0?!1:p,x=r.padding,j=x===void 0?0:x,w=pr(typeof j!="number"?j:mr(j,ze)),k=O===He?Yr:He,T=e.rects.popper,s=e.elements[y?k:O],C=Cn(Ne(s)?s:s.contextElement||ve(e.elements.popper),d,f,c),h=Re(e.elements.reference),L=vr({reference:h,element:T,placement:a}),I=Nt(Object.assign({},T,L)),A=O===He?I:h,b={top:C.top-A.top+w.top,bottom:A.bottom-C.bottom+w.bottom,left:C.left-A.left+w.left,right:A.right-C.right+w.right},R=e.modifiersData.offset;if(O===He&&R){var M=R[a];Object.keys(b).forEach(function(B){var F=[re,te].indexOf(B)>=0?1:-1,E=[J,te].indexOf(B)>=0?"y":"x";b[B]+=M[E]*F})}return b}function Tn(e,t){t===void 0&&(t={});var r=t,i=r.placement,a=r.boundary,o=r.rootBoundary,c=r.padding,l=r.flipVariations,d=r.allowedAutoPlacements,m=d===void 0?cr:d,f=Le(i),g=f?l?Ft:Ft.filter(function(y){return Le(y)===f}):ze,O=g.filter(function(y){return m.indexOf(y)>=0});O.length===0&&(O=g);var p=O.reduce(function(y,x){return y[x]=_e(e,{placement:x,boundary:a,rootBoundary:o,padding:c})[oe(x)],y},{});return Object.keys(p).sort(function(y,x){return p[y]-p[x]})}function $n(e){if(oe(e)===$t)return[];var t=ct(e);return[Ut(e),t,Ut(t)]}function An(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var a=r.mainAxis,o=a===void 0?!0:a,c=r.altAxis,l=c===void 0?!0:c,d=r.fallbackPlacements,m=r.padding,f=r.boundary,g=r.rootBoundary,O=r.altBoundary,p=r.flipVariations,y=p===void 0?!0:p,x=r.allowedAutoPlacements,j=t.options.placement,w=oe(j),k=w===j,T=d||(k||!y?[ct(j)]:$n(j)),s=[j].concat(T).reduce(function(le,ne){return le.concat(oe(ne)===$t?Tn(t,{placement:ne,boundary:f,rootBoundary:g,padding:m,flipVariations:y,allowedAutoPlacements:x}):ne)},[]),C=t.rects.reference,h=t.rects.popper,L=new Map,I=!0,A=s[0],b=0;b<s.length;b++){var R=s[b],M=oe(R),B=Le(R)===De,F=[J,te].indexOf(M)>=0,E=F?"width":"height",q=_e(t,{placement:R,boundary:f,rootBoundary:g,altBoundary:O,padding:m}),V=F?B?re:G:B?te:J;C[E]>h[E]&&(V=ct(V));var H=ct(V),z=[];if(o&&z.push(q[M]<=0),l&&z.push(q[V]<=0,q[H]<=0),z.every(function(le){return le})){A=R,I=!1;break}L.set(R,z)}if(I)for(var _=y?3:1,ge=function(ne){var de=s.find(function(Oe){var ue=L.get(Oe);if(ue)return ue.slice(0,ne).every(function(ke){return ke})});if(de)return A=de,"break"},ae=_;ae>0;ae--){var be=ge(ae);if(be==="break")break}t.placement!==A&&(t.modifiersData[i]._skip=!0,t.placement=A,t.reset=!0)}}const Dn={name:"flip",enabled:!0,phase:"main",fn:An,requiresIfExists:["offset"],data:{_skip:!1}};function Wt(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function qt(e){return[J,re,te,G].some(function(t){return e[t]>=0})}function Sn(e){var t=e.state,r=e.name,i=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,c=_e(t,{elementContext:"reference"}),l=_e(t,{altBoundary:!0}),d=Wt(c,i),m=Wt(l,a,o),f=qt(d),g=qt(m);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:f,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const Rn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sn};function Ln(e,t,r){var i=oe(e),a=[G,J].indexOf(i)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=o[0],l=o[1];return c=c||0,l=(l||0)*a,[G,re].indexOf(i)>=0?{x:l,y:c}:{x:c,y:l}}function Pn(e){var t=e.state,r=e.options,i=e.name,a=r.offset,o=a===void 0?[0,0]:a,c=cr.reduce(function(f,g){return f[g]=Ln(g,t.rects,o),f},{}),l=c[t.placement],d=l.x,m=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=m),t.modifiersData[i]=c}const Bn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pn};function Mn(e){var t=e.state,r=e.name;t.modifiersData[r]=vr({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Fn={name:"popperOffsets",enabled:!0,phase:"read",fn:Mn,data:{}};function In(e){return e==="x"?"y":"x"}function Hn(e){var t=e.state,r=e.options,i=e.name,a=r.mainAxis,o=a===void 0?!0:a,c=r.altAxis,l=c===void 0?!1:c,d=r.boundary,m=r.rootBoundary,f=r.altBoundary,g=r.padding,O=r.tether,p=O===void 0?!0:O,y=r.tetherOffset,x=y===void 0?0:y,j=_e(t,{boundary:d,rootBoundary:m,padding:g,altBoundary:f}),w=oe(t.placement),k=Le(t.placement),T=!k,s=St(w),C=In(s),h=t.modifiersData.popperOffsets,L=t.rects.reference,I=t.rects.popper,A=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,b=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(h){if(o){var B,F=s==="y"?J:G,E=s==="y"?te:re,q=s==="y"?"height":"width",V=h[s],H=V+j[F],z=V-j[E],_=p?-I[q]/2:0,ge=k===De?L[q]:I[q],ae=k===De?-I[q]:-L[q],be=t.elements.arrow,le=p&&be?Dt(be):{width:0,height:0},ne=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fr(),de=ne[F],Oe=ne[E],ue=Ue(0,L[q],le[q]),ke=T?L[q]/2-_-ue-de-b.mainAxis:ge-ue-de-b.mainAxis,me=T?-L[q]/2+_+ue+Oe+b.mainAxis:ae+ue+Oe+b.mainAxis,Ee=t.elements.arrow&&Xe(t.elements.arrow),Je=Ee?s==="y"?Ee.clientTop||0:Ee.clientLeft||0:0,Pe=(B=R==null?void 0:R[s])!=null?B:0,Ge=V+ke-Pe-Je,Ke=V+me-Pe,Be=Ue(p?lt(H,Ge):H,V,p?je(z,Ke):z);h[s]=Be,M[s]=Be-V}if(l){var Me,Qe=s==="x"?J:G,Ze=s==="x"?te:re,fe=h[C],he=C==="y"?"height":"width",Fe=fe+j[Qe],xe=fe-j[Ze],Ie=[J,G].indexOf(w)!==-1,et=(Me=R==null?void 0:R[C])!=null?Me:0,tt=Ie?Fe:fe-L[he]-I[he]-et+b.altAxis,rt=Ie?fe+L[he]+I[he]-et-b.altAxis:xe,nt=p&&Ie?dn(tt,fe,rt):Ue(p?tt:Fe,fe,p?rt:xe);h[C]=nt,M[C]=nt-fe}t.modifiersData[i]=M}}const Un={name:"preventOverflow",enabled:!0,phase:"main",fn:Hn,requiresIfExists:["offset"]};function Vn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wn(e){return e===K(e)||!ee(e)?Rt(e):Vn(e)}function qn(e){var t=e.getBoundingClientRect(),r=Se(t.width)/e.offsetWidth||1,i=Se(t.height)/e.offsetHeight||1;return r!==1||i!==1}function _n(e,t,r){r===void 0&&(r=!1);var i=ee(t),a=ee(t)&&qn(t),o=ve(t),c=Re(e,a,r),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!r)&&((ce(t)!=="body"||Pt(o))&&(l=Wn(t)),ee(t)?(d=Re(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=Lt(o))),{x:c.left+l.scrollLeft-d.x,y:c.top+l.scrollTop-d.y,width:c.width,height:c.height}}function zn(e){var t=new Map,r=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function a(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(l){if(!r.has(l)){var d=t.get(l);d&&a(d)}}),i.push(o)}return e.forEach(function(o){r.has(o.name)||a(o)}),i}function Xn(e){var t=zn(e);return an.reduce(function(r,i){return r.concat(t.filter(function(a){return a.phase===i}))},[])}function Yn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Jn(e){var t=e.reduce(function(r,i){var a=r[i.name];return r[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var _t={placement:"bottom",modifiers:[],strategy:"absolute"};function zt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Gn(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,a=t.defaultOptions,o=a===void 0?_t:a;return function(l,d,m){m===void 0&&(m=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},_t,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},g=[],O=!1,p={state:f,setOptions:function(w){var k=typeof w=="function"?w(f.options):w;x(),f.options=Object.assign({},o,f.options,k),f.scrollParents={reference:Ne(l)?Ve(l):l.contextElement?Ve(l.contextElement):[],popper:Ve(d)};var T=Xn(Jn([].concat(i,f.options.modifiers)));return f.orderedModifiers=T.filter(function(s){return s.enabled}),y(),p.update()},forceUpdate:function(){if(!O){var w=f.elements,k=w.reference,T=w.popper;if(zt(k,T)){f.rects={reference:_n(k,Xe(T),f.options.strategy==="fixed"),popper:Dt(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(b){return f.modifiersData[b.name]=Object.assign({},b.data)});for(var s=0;s<f.orderedModifiers.length;s++){if(f.reset===!0){f.reset=!1,s=-1;continue}var C=f.orderedModifiers[s],h=C.fn,L=C.options,I=L===void 0?{}:L,A=C.name;typeof h=="function"&&(f=h({state:f,options:I,name:A,instance:p})||f)}}}},update:Yn(function(){return new Promise(function(j){p.forceUpdate(),j(f)})}),destroy:function(){x(),O=!0}};if(!zt(l,d))return p;p.setOptions(m).then(function(j){!O&&m.onFirstUpdate&&m.onFirstUpdate(j)});function y(){f.orderedModifiers.forEach(function(j){var w=j.name,k=j.options,T=k===void 0?{}:k,s=j.effect;if(typeof s=="function"){var C=s({state:f,name:w,instance:p,options:T}),h=function(){};g.push(C||h)}})}function x(){g.forEach(function(j){return j()}),g=[]}return p}}var Kn=[yn,Fn,bn,lr,Bn,Dn,Un,mn,Rn],Qn=Gn({defaultModifiers:Kn}),Zn="tippy-box",gr="tippy-content",ei="tippy-backdrop",br="tippy-arrow",xr="tippy-svg-arrow",we={passive:!0,capture:!0},yr=function(){return document.body};function vt(e,t,r){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(r)?r[t]:r)}return e}function Bt(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function wr(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Xt(e,t){if(t===0)return e;var r;return function(i){clearTimeout(r),r=setTimeout(function(){e(i)},t)}}function ti(e){return e.split(/\s+/).filter(Boolean)}function Ae(e){return[].concat(e)}function Yt(e,t){e.indexOf(t)===-1&&e.push(t)}function ri(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function ni(e){return e.split("-")[0]}function dt(e){return[].slice.call(e)}function Jt(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function We(){return document.createElement("div")}function ft(e){return["Element","Fragment"].some(function(t){return Bt(e,t)})}function ii(e){return Bt(e,"NodeList")}function ai(e){return Bt(e,"MouseEvent")}function si(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function oi(e){return ft(e)?[e]:ii(e)?dt(e):Array.isArray(e)?e:dt(document.querySelectorAll(e))}function gt(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function Gt(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function ci(e){var t,r=Ae(e),i=r[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function li(e,t){var r=t.clientX,i=t.clientY;return e.every(function(a){var o=a.popperRect,c=a.popperState,l=a.props,d=l.interactiveBorder,m=ni(c.placement),f=c.modifiersData.offset;if(!f)return!0;var g=m==="bottom"?f.top.y:0,O=m==="top"?f.bottom.y:0,p=m==="right"?f.left.x:0,y=m==="left"?f.right.x:0,x=o.top-i+g>d,j=i-o.bottom-O>d,w=o.left-r+p>d,k=r-o.right-y>d;return x||j||w||k})}function bt(e,t,r){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){e[i](a,r)})}function Kt(e,t){for(var r=t;r;){var i;if(e.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var se={isTouch:!1},Qt=0;function di(){se.isTouch||(se.isTouch=!0,window.performance&&document.addEventListener("mousemove",jr))}function jr(){var e=performance.now();e-Qt<20&&(se.isTouch=!1,document.removeEventListener("mousemove",jr)),Qt=e}function ui(){var e=document.activeElement;if(si(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function fi(){document.addEventListener("touchstart",di,we),window.addEventListener("blur",ui)}var pi=typeof window<"u"&&typeof document<"u",mi=pi?!!window.msCrypto:!1,hi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},vi={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ie=Object.assign({appendTo:yr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},hi,vi),gi=Object.keys(ie),bi=function(t){var r=Object.keys(t);r.forEach(function(i){ie[i]=t[i]})};function Nr(e){var t=e.plugins||[],r=t.reduce(function(i,a){var o=a.name,c=a.defaultValue;if(o){var l;i[o]=e[o]!==void 0?e[o]:(l=ie[o])!=null?l:c}return i},{});return Object.assign({},e,r)}function xi(e,t){var r=t?Object.keys(Nr(Object.assign({},ie,{plugins:t}))):gi,i=r.reduce(function(a,o){var c=(e.getAttribute("data-tippy-"+o)||"").trim();if(!c)return a;if(o==="content")a[o]=c;else try{a[o]=JSON.parse(c)}catch{a[o]=c}return a},{});return i}function Zt(e,t){var r=Object.assign({},t,{content:wr(t.content,[e])},t.ignoreAttributes?{}:xi(e,t.plugins));return r.aria=Object.assign({},ie.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var yi=function(){return"innerHTML"};function Ot(e,t){e[yi()]=t}function er(e){var t=We();return e===!0?t.className=br:(t.className=xr,ft(e)?t.appendChild(e):Ot(t,e)),t}function tr(e,t){ft(t.content)?(Ot(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Ot(e,t.content):e.textContent=t.content)}function kt(e){var t=e.firstElementChild,r=dt(t.children);return{box:t,content:r.find(function(i){return i.classList.contains(gr)}),arrow:r.find(function(i){return i.classList.contains(br)||i.classList.contains(xr)}),backdrop:r.find(function(i){return i.classList.contains(ei)})}}function Or(e){var t=We(),r=We();r.className=Zn,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=We();i.className=gr,i.setAttribute("data-state","hidden"),tr(i,e.props),t.appendChild(r),r.appendChild(i),a(e.props,e.props);function a(o,c){var l=kt(t),d=l.box,m=l.content,f=l.arrow;c.theme?d.setAttribute("data-theme",c.theme):d.removeAttribute("data-theme"),typeof c.animation=="string"?d.setAttribute("data-animation",c.animation):d.removeAttribute("data-animation"),c.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?d.setAttribute("role",c.role):d.removeAttribute("role"),(o.content!==c.content||o.allowHTML!==c.allowHTML)&&tr(m,e.props),c.arrow?f?o.arrow!==c.arrow&&(d.removeChild(f),d.appendChild(er(c.arrow))):d.appendChild(er(c.arrow)):f&&d.removeChild(f)}return{popper:t,onUpdate:a}}Or.$$tippy=!0;var wi=1,ot=[],xt=[];function ji(e,t){var r=Zt(e,Object.assign({},ie,Nr(Jt(t)))),i,a,o,c=!1,l=!1,d=!1,m=!1,f,g,O,p=[],y=Xt(Ge,r.interactiveDebounce),x,j=wi++,w=null,k=ri(r.plugins),T={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},s={id:j,reference:e,popper:We(),popperInstance:w,props:r,state:T,plugins:k,clearDelayTimeouts:tt,setProps:rt,setContent:nt,show:Tr,hide:$r,hideWithInteractivity:Ar,enable:Ie,disable:et,unmount:Dr,destroy:Sr};if(!r.render)return s;var C=r.render(s),h=C.popper,L=C.onUpdate;h.setAttribute("data-tippy-root",""),h.id="tippy-"+s.id,s.popper=h,e._tippy=s,h._tippy=s;var I=k.map(function(u){return u.fn(s)}),A=e.hasAttribute("aria-expanded");return Ee(),_(),V(),H("onCreate",[s]),r.showOnCreate&&Fe(),h.addEventListener("mouseenter",function(){s.props.interactive&&s.state.isVisible&&s.clearDelayTimeouts()}),h.addEventListener("mouseleave",function(){s.props.interactive&&s.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",y)}),s;function b(){var u=s.props.touch;return Array.isArray(u)?u:[u,0]}function R(){return b()[0]==="hold"}function M(){var u;return!!((u=s.props.render)!=null&&u.$$tippy)}function B(){return x||e}function F(){var u=B().parentNode;return u?ci(u):document}function E(){return kt(h)}function q(u){return s.state.isMounted&&!s.state.isVisible||se.isTouch||f&&f.type==="focus"?0:vt(s.props.delay,u?0:1,ie.delay)}function V(u){u===void 0&&(u=!1),h.style.pointerEvents=s.props.interactive&&!u?"":"none",h.style.zIndex=""+s.props.zIndex}function H(u,v,N){if(N===void 0&&(N=!0),I.forEach(function(D){D[u]&&D[u].apply(D,v)}),N){var P;(P=s.props)[u].apply(P,v)}}function z(){var u=s.props.aria;if(u.content){var v="aria-"+u.content,N=h.id,P=Ae(s.props.triggerTarget||e);P.forEach(function(D){var X=D.getAttribute(v);if(s.state.isVisible)D.setAttribute(v,X?X+" "+N:N);else{var Q=X&&X.replace(N,"").trim();Q?D.setAttribute(v,Q):D.removeAttribute(v)}})}}function _(){if(!(A||!s.props.aria.expanded)){var u=Ae(s.props.triggerTarget||e);u.forEach(function(v){s.props.interactive?v.setAttribute("aria-expanded",s.state.isVisible&&v===B()?"true":"false"):v.removeAttribute("aria-expanded")})}}function ge(){F().removeEventListener("mousemove",y),ot=ot.filter(function(u){return u!==y})}function ae(u){if(!(se.isTouch&&(d||u.type==="mousedown"))){var v=u.composedPath&&u.composedPath()[0]||u.target;if(!(s.props.interactive&&Kt(h,v))){if(Ae(s.props.triggerTarget||e).some(function(N){return Kt(N,v)})){if(se.isTouch||s.state.isVisible&&s.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[s,u]);s.props.hideOnClick===!0&&(s.clearDelayTimeouts(),s.hide(),l=!0,setTimeout(function(){l=!1}),s.state.isMounted||de())}}}function be(){d=!0}function le(){d=!1}function ne(){var u=F();u.addEventListener("mousedown",ae,!0),u.addEventListener("touchend",ae,we),u.addEventListener("touchstart",le,we),u.addEventListener("touchmove",be,we)}function de(){var u=F();u.removeEventListener("mousedown",ae,!0),u.removeEventListener("touchend",ae,we),u.removeEventListener("touchstart",le,we),u.removeEventListener("touchmove",be,we)}function Oe(u,v){ke(u,function(){!s.state.isVisible&&h.parentNode&&h.parentNode.contains(h)&&v()})}function ue(u,v){ke(u,v)}function ke(u,v){var N=E().box;function P(D){D.target===N&&(bt(N,"remove",P),v())}if(u===0)return v();bt(N,"remove",g),bt(N,"add",P),g=P}function me(u,v,N){N===void 0&&(N=!1);var P=Ae(s.props.triggerTarget||e);P.forEach(function(D){D.addEventListener(u,v,N),p.push({node:D,eventType:u,handler:v,options:N})})}function Ee(){R()&&(me("touchstart",Pe,{passive:!0}),me("touchend",Ke,{passive:!0})),ti(s.props.trigger).forEach(function(u){if(u!=="manual")switch(me(u,Pe),u){case"mouseenter":me("mouseleave",Ke);break;case"focus":me(mi?"focusout":"blur",Be);break;case"focusin":me("focusout",Be);break}})}function Je(){p.forEach(function(u){var v=u.node,N=u.eventType,P=u.handler,D=u.options;v.removeEventListener(N,P,D)}),p=[]}function Pe(u){var v,N=!1;if(!(!s.state.isEnabled||Me(u)||l)){var P=((v=f)==null?void 0:v.type)==="focus";f=u,x=u.currentTarget,_(),!s.state.isVisible&&ai(u)&&ot.forEach(function(D){return D(u)}),u.type==="click"&&(s.props.trigger.indexOf("mouseenter")<0||c)&&s.props.hideOnClick!==!1&&s.state.isVisible?N=!0:Fe(u),u.type==="click"&&(c=!N),N&&!P&&xe(u)}}function Ge(u){var v=u.target,N=B().contains(v)||h.contains(v);if(!(u.type==="mousemove"&&N)){var P=he().concat(h).map(function(D){var X,Q=D._tippy,Ce=(X=Q.popperInstance)==null?void 0:X.state;return Ce?{popperRect:D.getBoundingClientRect(),popperState:Ce,props:r}:null}).filter(Boolean);li(P,u)&&(ge(),xe(u))}}function Ke(u){var v=Me(u)||s.props.trigger.indexOf("click")>=0&&c;if(!v){if(s.props.interactive){s.hideWithInteractivity(u);return}xe(u)}}function Be(u){s.props.trigger.indexOf("focusin")<0&&u.target!==B()||s.props.interactive&&u.relatedTarget&&h.contains(u.relatedTarget)||xe(u)}function Me(u){return se.isTouch?R()!==u.type.indexOf("touch")>=0:!1}function Qe(){Ze();var u=s.props,v=u.popperOptions,N=u.placement,P=u.offset,D=u.getReferenceClientRect,X=u.moveTransition,Q=M()?kt(h).arrow:null,Ce=D?{getBoundingClientRect:D,contextElement:D.contextElement||B()}:e,Mt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(it){var Te=it.state;if(M()){var Rr=E(),mt=Rr.box;["placement","reference-hidden","escaped"].forEach(function(at){at==="placement"?mt.setAttribute("data-placement",Te.placement):Te.attributes.popper["data-popper-"+at]?mt.setAttribute("data-"+at,""):mt.removeAttribute("data-"+at)}),Te.attributes.popper={}}}},ye=[{name:"offset",options:{offset:P}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!X}},Mt];M()&&Q&&ye.push({name:"arrow",options:{element:Q,padding:3}}),ye.push.apply(ye,(v==null?void 0:v.modifiers)||[]),s.popperInstance=Qn(Ce,h,Object.assign({},v,{placement:N,onFirstUpdate:O,modifiers:ye}))}function Ze(){s.popperInstance&&(s.popperInstance.destroy(),s.popperInstance=null)}function fe(){var u=s.props.appendTo,v,N=B();s.props.interactive&&u===yr||u==="parent"?v=N.parentNode:v=wr(u,[N]),v.contains(h)||v.appendChild(h),s.state.isMounted=!0,Qe()}function he(){return dt(h.querySelectorAll("[data-tippy-root]"))}function Fe(u){s.clearDelayTimeouts(),u&&H("onTrigger",[s,u]),ne();var v=q(!0),N=b(),P=N[0],D=N[1];se.isTouch&&P==="hold"&&D&&(v=D),v?i=setTimeout(function(){s.show()},v):s.show()}function xe(u){if(s.clearDelayTimeouts(),H("onUntrigger",[s,u]),!s.state.isVisible){de();return}if(!(s.props.trigger.indexOf("mouseenter")>=0&&s.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(u.type)>=0&&c)){var v=q(!1);v?a=setTimeout(function(){s.state.isVisible&&s.hide()},v):o=requestAnimationFrame(function(){s.hide()})}}function Ie(){s.state.isEnabled=!0}function et(){s.hide(),s.state.isEnabled=!1}function tt(){clearTimeout(i),clearTimeout(a),cancelAnimationFrame(o)}function rt(u){if(!s.state.isDestroyed){H("onBeforeUpdate",[s,u]),Je();var v=s.props,N=Zt(e,Object.assign({},v,Jt(u),{ignoreAttributes:!0}));s.props=N,Ee(),v.interactiveDebounce!==N.interactiveDebounce&&(ge(),y=Xt(Ge,N.interactiveDebounce)),v.triggerTarget&&!N.triggerTarget?Ae(v.triggerTarget).forEach(function(P){P.removeAttribute("aria-expanded")}):N.triggerTarget&&e.removeAttribute("aria-expanded"),_(),V(),L&&L(v,N),s.popperInstance&&(Qe(),he().forEach(function(P){requestAnimationFrame(P._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[s,u])}}function nt(u){s.setProps({content:u})}function Tr(){var u=s.state.isVisible,v=s.state.isDestroyed,N=!s.state.isEnabled,P=se.isTouch&&!s.props.touch,D=vt(s.props.duration,0,ie.duration);if(!(u||v||N||P)&&!B().hasAttribute("disabled")&&(H("onShow",[s],!1),s.props.onShow(s)!==!1)){if(s.state.isVisible=!0,M()&&(h.style.visibility="visible"),V(),ne(),s.state.isMounted||(h.style.transition="none"),M()){var X=E(),Q=X.box,Ce=X.content;gt([Q,Ce],0)}O=function(){var ye;if(!(!s.state.isVisible||m)){if(m=!0,h.offsetHeight,h.style.transition=s.props.moveTransition,M()&&s.props.animation){var pt=E(),it=pt.box,Te=pt.content;gt([it,Te],D),Gt([it,Te],"visible")}z(),_(),Yt(xt,s),(ye=s.popperInstance)==null||ye.forceUpdate(),H("onMount",[s]),s.props.animation&&M()&&ue(D,function(){s.state.isShown=!0,H("onShown",[s])})}},fe()}}function $r(){var u=!s.state.isVisible,v=s.state.isDestroyed,N=!s.state.isEnabled,P=vt(s.props.duration,1,ie.duration);if(!(u||v||N)&&(H("onHide",[s],!1),s.props.onHide(s)!==!1)){if(s.state.isVisible=!1,s.state.isShown=!1,m=!1,c=!1,M()&&(h.style.visibility="hidden"),ge(),de(),V(!0),M()){var D=E(),X=D.box,Q=D.content;s.props.animation&&(gt([X,Q],P),Gt([X,Q],"hidden"))}z(),_(),s.props.animation?M()&&Oe(P,s.unmount):s.unmount()}}function Ar(u){F().addEventListener("mousemove",y),Yt(ot,y),y(u)}function Dr(){s.state.isVisible&&s.hide(),s.state.isMounted&&(Ze(),he().forEach(function(u){u._tippy.unmount()}),h.parentNode&&h.parentNode.removeChild(h),xt=xt.filter(function(u){return u!==s}),s.state.isMounted=!1,H("onHidden",[s]))}function Sr(){s.state.isDestroyed||(s.clearDelayTimeouts(),s.unmount(),Je(),delete e._tippy,s.state.isDestroyed=!0,H("onDestroy",[s]))}}function Ye(e,t){t===void 0&&(t={});var r=ie.plugins.concat(t.plugins||[]);fi();var i=Object.assign({},t,{plugins:r}),a=oi(e),o=a.reduce(function(c,l){var d=l&&ji(l,i);return d&&c.push(d),c},[]);return ft(e)?o[0]:o}Ye.defaultProps=ie;Ye.setDefaultProps=bi;Ye.currentInput=se;Object.assign({},lr,{effect:function(t){var r=t.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}});Ye.setDefaultProps({render:Or});function kr(e,t){if(e==null)return{};var r={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Er=typeof window<"u"&&typeof document<"u";function Et(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function rr(){return Er&&document.createElement("div")}function Ni(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function Cr(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(t.hasOwnProperty(r)){if(!Cr(e[r],t[r]))return!1}else return!1;return!0}else return!1}function Oi(e){var t=[];return e.forEach(function(r){t.find(function(i){return Cr(r,i)})||t.push(r)}),t}function ki(e,t){var r,i;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Oi([].concat(((r=e.popperOptions)==null?void 0:r.modifiers)||[],((i=t.popperOptions)==null?void 0:i.modifiers)||[]))})})}var yt=Er?U.useLayoutEffect:U.useEffect;function Ei(e){var t=U.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function nr(e,t,r){r.split(/\s+/).forEach(function(i){i&&e.classList[t](i)})}var Ci={name:"className",defaultValue:"",fn:function(t){var r=t.popper.firstElementChild,i=function(){var l;return!!((l=t.props.render)!=null&&l.$$tippy)};function a(){t.props.className&&!i()||nr(r,"add",t.props.className)}function o(){i()&&nr(r,"remove",t.props.className)}return{onCreate:a,onBeforeUpdate:o,onAfterUpdate:a}}};function Ti(e){function t(r){var i=r.children,a=r.content,o=r.visible,c=r.singleton,l=r.render,d=r.reference,m=r.disabled,f=m===void 0?!1:m,g=r.ignoreAttributes,O=g===void 0?!0:g;r.__source,r.__self;var p=kr(r,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),y=o!==void 0,x=c!==void 0,j=U.useState(!1),w=j[0],k=j[1],T=U.useState({}),s=T[0],C=T[1],h=U.useState(),L=h[0],I=h[1],A=Ei(function(){return{container:rr(),renders:1}}),b=Object.assign({ignoreAttributes:O},p,{content:A.container});y&&(b.trigger="manual",b.hideOnClick=!1),x&&(f=!0);var R=b,M=b.plugins||[];l&&(R=Object.assign({},b,{plugins:x&&c.data!=null?[].concat(M,[{fn:function(){return{onTrigger:function(q,V){var H=c.data.children.find(function(z){var _=z.instance;return _.reference===V.currentTarget});q.state.$$activeSingletonInstance=H.instance,I(H.content)}}}}]):M,render:function(){return{popper:A.container}}}));var B=[d].concat(i?[i.type]:[]);return yt(function(){var F=d;d&&d.hasOwnProperty("current")&&(F=d.current);var E=e(F||A.ref||rr(),Object.assign({},R,{plugins:[Ci].concat(b.plugins||[])}));return A.instance=E,f&&E.disable(),o&&E.show(),x&&c.hook({instance:E,content:a,props:R,setSingletonContent:I}),k(!0),function(){E.destroy(),c==null||c.cleanup(E)}},B),yt(function(){var F;if(A.renders===1){A.renders++;return}var E=A.instance;E.setProps(ki(E.props,R)),(F=E.popperInstance)==null||F.forceUpdate(),f?E.disable():E.enable(),y&&(o?E.show():E.hide()),x&&c.hook({instance:E,content:a,props:R,setSingletonContent:I})}),yt(function(){var F;if(l){var E=A.instance;E.setProps({popperOptions:Object.assign({},E.props.popperOptions,{modifiers:[].concat((((F=E.props.popperOptions)==null?void 0:F.modifiers)||[]).filter(function(q){var V=q.name;return V!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(V){var H,z=V.state,_=(H=z.modifiersData)==null?void 0:H.hide;(s.placement!==z.placement||s.referenceHidden!==(_==null?void 0:_.isReferenceHidden)||s.escaped!==(_==null?void 0:_.hasPopperEscaped))&&C({placement:z.placement,referenceHidden:_==null?void 0:_.isReferenceHidden,escaped:_==null?void 0:_.hasPopperEscaped}),z.attributes.popper={}}}])})})}},[s.placement,s.referenceHidden,s.escaped].concat(B)),wt.createElement(wt.Fragment,null,i?U.cloneElement(i,{ref:function(E){A.ref=E,Et(i.ref,E)}}):null,w&&Mr.createPortal(l?l(Ni(s),L,A.instance):a,A.container))}return t}var $i=function(e,t){return U.forwardRef(function(i,a){var o=i.children,c=kr(i,["children"]);return wt.createElement(e,Object.assign({},t,c),o?U.cloneElement(o,{ref:function(d){Et(a,d),Et(o.ref,d)}}):null)})},Ct=$i(Ti(Ye));const Ai=({session:e,theme:t,can:r,whatsAppStatus:i,APP_PROTOCOL:a,APP_DOMAIN:o,leadsCount:c,tasksCount:l,businesses:d})=>{let m={};e.is_owner?m={name:"Owner",description:"Persona que crea la empresa"}:m=e.service_user.roles[0]??{name:"Sin rol",description:"El usuario aún no tiene un rol asignado"};const f=d.find(({id:p})=>e.business_id==p),g=d.filter(({id:p})=>e.business_id!=p),O=moment(e.birthdate).format("MM-DD")==moment().format("MM-DD");return n.jsx("div",{className:"left-side-menu py-0",children:n.jsxs("div",{className:"h-100 pt-3","data-simplebar":!0,children:[n.jsxs("div",{className:"user-box w-100 mb-2",style:{padding:"0px 20px"},children:[n.jsx("img",{src:`//${o}/api/profile/thumbnail/${e.relative_id}?v=${new Date(e.updated_at).getTime()}`,alt:e.name,title:e.name,className:"rounded-circle img-thumbnail avatar-md mb-2",style:{backgroundColor:"unset",borderColor:"#98a6ad",objectFit:"cover",objectPosition:"center"}}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{className:"pe-2",style:{maxWidth:"70%"},children:[n.jsxs("span",{className:"user-name h4 mt-0 mb-0 d-block",style:{fontFamily:"'Nunito Sans', sans-serif",color:t=="dark"?"#fff":void 0},children:[e.name.split(" ")[0]," ",e.lastname.split(" ")[0],O&&n.jsx(Ct,{content:`Feliz cumpleaños ${e.name}`,arrow:!0,children:n.jsx("i",{className:"fas fa-birthday-cake text-danger ms-1"})})]}),n.jsx("small",{className:"text-muted text-truncate d-block",children:e.email})]}),n.jsx(Ct,{content:m.description,arrow:!0,children:n.jsx("span",{className:"badge bg-soft-primary text-primary rounded-pill",children:m.name})})]})]}),n.jsxs("div",{className:`px-2 py-1 text-center ${g.length>1?"d-block":""}`,style:{position:"relative"},children:[n.jsxs("a",{className:"btn dropdown-toggle waves-effect waves-light d-flex align-items-center justify-content-between gap-1 mx-auto","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"false","aria-expanded":"false",style:{borderColor:"rgba(187, 187, 187, .25)",width:"200px",boxShadow:"0 0 8px rgba(187, 187, 187, .125)",borderRadius:"8px"},children:[n.jsxs("div",{className:"d-flex align-items-start",children:[n.jsx("img",{className:"d-flex me-2 rounded-circle",src:`//${o}/api/logo/thumbnail/null`,alt:f.name,height:"32"}),n.jsxs("div",{className:"w-100",children:[n.jsx("h5",{className:"m-0 font-14 text-primary text-truncate",style:{width:"115px"},children:f.name}),n.jsxs("span",{className:"font-12 mb-0",children:["RUC: ",f.person.document_number]})]})]}),n.jsx("i",{className:"mdi mdi-chevron-down"})]}),n.jsxs("div",{className:"dropdown-menu dropdown-menu-center profile-dropdown w-full",children:[g.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"notification-list",children:g.sort((p,y)=>p.id==e.business_id?-1:1).map((p,y)=>n.jsx(ar,{...p,session:e,APP_PROTOCOL:a,APP_DOMAIN:o},`business-${y}`))}),n.jsx("div",{className:"dropdown-divider"})]}),n.jsxs("a",{href:`//${o}/businesses`,className:"dropdown-item notify-item",children:[n.jsx("i",{className:"fe-arrow-up-right"}),n.jsx("span",{children:"Otras empresas"})]})]})]}),n.jsx("div",{id:"sidebar-menu",className:"show",children:n.jsxs("ul",{id:"side-menu",children:[n.jsx("li",{className:"menu-title",children:"Panel de navegacion"}),n.jsxs($e,{title:"KPIs",icon:"mdi mdi-chart-donut-variant",children:[n.jsx(W,{href:"/home",icon:"mdi mdi-account-multiple",children:"Leads"}),r("dashboard","all","list")&&n.jsx(W,{href:"/home/projects",icon:"mdi mdi-page-next",children:"Proyectos"})]}),n.jsx(W,{href:"/tasks",icon:"mdi mdi-format-list-checks",badge:l>0?l:"",children:"Tareas"}),n.jsxs($e,{title:"Personas",icon:"mdi mdi-account-group",children:[n.jsx(W,{href:"/leads",icon:"mdi mdi-check-bold",badge:c>0?c:"",children:"Leads"}),r("clients","all","list")&&n.jsx(W,{href:"/clients",icon:"mdi mdi-account-multiple",children:"Clientes"}),n.jsx(W,{id:"archived-item",href:"/archived",icon:"mdi mdi-archive",children:"Archivados"})]}),i=="ready"&&n.jsx(W,{href:"/messages",icon:"mdi mdi-forum",children:"Mensajes"}),n.jsx(W,{href:"/products",icon:"mdi mdi-layers",children:"Productos"}),r("processes","root","all","list")&&n.jsx(W,{href:"/processes",icon:"mdi mdi-timeline-text",children:"Procesos"}),r("projects","root","all","list")&&n.jsxs($e,{title:"Proyectos",icon:"mdi mdi-page-next",children:[n.jsx(W,{href:"/projects",icon:"mdi mdi-lan-pending",children:"En curso"}),n.jsx(W,{href:"/projects/done",icon:"mdi mdi-check",children:"Entregados"}),n.jsx(W,{href:"/projects/archived",icon:"mdi mdi-archive",children:"Archivados"}),n.jsx(W,{href:"/projects/taskboard",icon:"mdi mdi-view-dashboard",children:"Cuadro de control"})]}),(r("users","root","all","list")||r("roles","root","all","list")||r("permissions","root","all","list"))&&n.jsxs($e,{title:"Usuarios y roles",icon:"mdi mdi-account-lock",children:[r("users","root","all","list")&&n.jsx(W,{href:"/users",icon:"mdi mdi-account",children:"Usuarios"}),r("roles","root","all","list")&&n.jsx(W,{href:"/roles",icon:"mdi mdi-account-convert",children:"Roles"})]}),n.jsx(W,{href:"/default-messages",icon:"mdi mdi-message-bulleted",children:"Mensajes predeter..."}),n.jsx(W,{href:"/repository",icon:"mdi mdi-database",children:"Repositorio"}),r("apikeys","root","all","list")&&n.jsxs($e,{title:"Integraciones",icon:"mdi mdi-api",children:[n.jsx(W,{href:"/webhooks",icon:"mdi mdi-webhook",children:"Redes sociales"}),n.jsx(W,{href:"/apikeys",icon:"mdi mdi-form-textbox",children:"Formulario Externo"})]}),(r("tables","root","all","list")||r("statuses","root","all","list")||r("types","root","all","list"))&&n.jsxs(n.Fragment,{children:[n.jsx("li",{className:"menu-title",children:"Menus del sistema"}),n.jsxs($e,{title:"Mantenimiento",icon:"mdi mdi-application-cog",children:[r("statuses","root","all","list")&&n.jsx(W,{href:"/statuses",icon:"mdi mdi-format-list-checks",children:"Estados"}),r("types","root","all","list")&&n.jsx(W,{href:"/types",icon:"mdi mdi-format-list-text",children:"Tipos"})]}),r("settings","root","all","list")&&n.jsx(W,{href:"/settings",icon:"mdi mdi-cogs",children:"Configuraciones"})]})]})}),n.jsx("div",{className:"clearfix"})]})})},Di=()=>{const e=new Date().getFullYear();return n.jsx("footer",{className:"footer",children:n.jsx("div",{className:"container-fluid",children:n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6",children:[e," © Atalaya | Propiedad de ",n.jsx("a",{href:"//mundoweb.pe",children:"Mundo Web"})]}),n.jsx("div",{className:"col-md-6",children:n.jsxs("div",{className:"text-md-end footer-links d-none d-sm-block",children:[n.jsx("a",{href:"#",children:"Sobre nosotros"}),n.jsx("a",{href:"#",children:"Manual de usuario"}),n.jsx("a",{href:"#",children:"Contactanos"})]})})]})})})};class Si extends sr{constructor(){super(...arguments);Y(this,"path","whatsapp");Y(this,"verify",async(r=!1)=>{try{const{status:i,result:a}=await S.Fetch(`/api/${this.path}`);return{status:a.status,data:a.data}}catch(i){return console.error(i.message),r&&S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),{status:400,data:null}}});Y(this,"send",async(r,i)=>{try{const{status:a,result:o}=await S.Fetch(`/api/${this.path}/send`,{method:"POST",body:JSON.stringify({client_id:r,message:i})});if(!a)throw new Error((o==null?void 0:o.message)??"Ocurrio un error al enviar el mensaje");return o}catch(a){return console.error(a.message),S.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:a.message,type:"danger"}),!1}})}}const Ri=new Si;let Z={};const Li=({status:e,setStatus:t,WA_URL:r,APP_URL:i,session:a})=>{var L,I,A;const o=U.useRef(),c=U.useRef(),l=U.useRef(),{color:d,icon:m,text:f}=ir[e],[g,O]=U.useState(0),[p,y]=U.useState({}),[x,j]=U.useState(!1),w=`atalaya-${a.business_uuid}`,k=async()=>{const{status:b,data:R}=await Ri.verify();b==200?(t("ready"),y(R)):b==404?t("close"):t(null)},T=()=>{j(!0)},s=()=>{var b;(b=Z==null?void 0:Z.close)==null||b.call(Z),j(!1),e!="ready"&&t(null)};U.useEffect(()=>{const b=document.getElementById("whatsapp-modal");return b.addEventListener("show.bs.modal",T),b.addEventListener("hide.bs.modal",s),()=>{b.removeEventListener("show.bs.modal",T),b.removeEventListener("hide.bs.modal",s)}},[e]),U.useEffect(()=>{if(e=="verifying"){const b=new URLSearchParams({session:w,redirect_to:`${i}/free/leads`});Z=new EventSource(`${r}/api/session/verify?${b}`),Z.onmessage=({data:R})=>{if(R=="ping")return console.log("Realtime active");const{status:M,qr:B,percent:F,info:E}=JSON.parse(R);switch(M){case"qr":t("qr"),$(c.current).empty(),new QRCode(c.current,{text:B,width:200,height:200,colorDark:"#343a40"});break;case"loading_screen":t("loading_screen"),O(F);break;case"authenticated":t("authenticated");break;case"ready":t("ready"),y(E),Z.close();break;case"close":t("close"),Z.close(),setTimeout(()=>{t("verifying")},5e3);break;default:Z.close();break}},Z.onerror=R=>{console.log("Realtime closed: Perdida de conexion (Timeout)"),t("close"),Z.close(),setTimeout(()=>{t("verifying")},5e3)}}else e==null&&!x&&(console.log("Realtime closed: Modal cerrado"),k())},[e,x]);const C=async()=>{const{isConfirmed:b}=await Ir.fire({title:"¿Estás seguro?",text:"Se cerrará la sesión actual",icon:"warning",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});b&&(await fetch(`${r}/api/session/${w}`,{method:"DELETE"}),S.Notify.add({icon:"/assets/img/logo-login.svg",title:"Operación correcta",body:`Se cerró la sesión de ${(p==null?void 0:p.pushname)||"WhatsApp"}`}),y({}),t(null))},h=async()=>{try{if(!(await fetch(`${r}/api/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:w,to:[l.current.value],content:`Ping!
> Mensaje automatico`})})).ok)throw new Error("No se pudo enviar el ping");S.Notify.add({icon:"/assets/img/logo-login.svg",title:"Operacion correcta",body:`Se envio el ping a ${l.current.value}`})}catch(b){S.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:b.message,type:"danger"})}};return n.jsx("div",{ref:o,id:"whatsapp-modal",className:"modal fade","aria-hidden":"true","data-bs-backdrop":"static",children:n.jsx("div",{className:"modal-dialog modal-sm modal-dialog-centered",children:n.jsx("div",{className:"modal-content",children:n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"text-center",children:[n.jsx("button",{type:"button",className:"btn-close position-absolute top-0 end-0 me-2 mt-2","data-bs-dismiss":"modal","aria-label":"Close"}),n.jsx("i",{className:`${m} h1 text-${d} my-2 d-block`}),n.jsxs("h4",{className:"mt-2",children:[f," ",e=="loading_screen"&&`[${g}%]`]}),n.jsxs("div",{className:"position-relative",hidden:e!=="qr",children:[n.jsx("img",{className:"position-absolute",src:`//${ht.APP_DOMAIN}/assets/img/icon.svg`,alt:"Atalaya",style:{width:"30px",aspectRatio:"30px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",filter:"grayscale(100%)",padding:"4px",borderRadius:"8px",backgroundColor:"#fff"}}),n.jsx("div",{ref:c,id:"qr-code",className:`mt-3 text-center ${e=="qr"?"d-block":"d-none"}`})]}),e==null&&n.jsxs("button",{className:"btn btn-sm btn-dark waves-effect waves-light mt-2",type:"button",onClick:()=>t("verifying"),children:[n.jsx("i",{className:"mdi mdi-qrcode-plus me-1"}),"Generar QR"]}),e=="ready"&&n.jsxs("div",{className:"d-block py-2",children:[n.jsx("img",{className:"d-block mb-2 avatar-md rounded-circle mx-auto",src:`${ht.WA_URL}/api/profile/${Fr.business_uuid}/${(L=p==null?void 0:p.me)==null?void 0:L.user}`,onError:b=>{b.target.onerror=null,b.target.src=`//${ht.APP_DOMAIN}/api/profile/thumbnail/undefined`},alt:p==null?void 0:p.pushname}),n.jsx("b",{children:p==null?void 0:p.pushname}),n.jsx("br",{}),n.jsxs("span",{className:"text-muted",children:[(I=p==null?void 0:p.me)==null?void 0:I.user,"@",(A=p==null?void 0:p.me)==null?void 0:A.server]}),n.jsxs("div",{className:"input-group mt-2",children:[n.jsx("input",{ref:l,type:"text",className:"form-control form-control-sm",placeholder:"Numero receptor"}),n.jsx(Ct,{content:"Enviar mensaje ping",children:n.jsx("button",{className:"btn btn-sm input-group-text btn-dark waves-effect waves-light",type:"button",onClick:h,children:"Ping"})})]})]}),e=="ready"&&n.jsx("button",{type:"button",className:"btn btn-danger my-2",onClick:C,children:"Cerrar sesión"})]})})})})})};moment.tz.setDefault("UTC");const Fi=({session:e,children:t,notificationsCount:r,title:i,description:a,floatEnd:o,can:c,WA_URL:l,APP_URL:d,presets:m,businesses:f,APP_PROTOCOL:g,APP_DOMAIN:O,leadsCount:p,tasksCount:y})=>{const x=Local.get("adminto_settings")??{},[j,w]=U.useState(x.theme??"ligth"),[k,T]=U.useState(null);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{id:"wrapper",children:[n.jsx(Hr,{}),n.jsx(zr,{session:e,theme:j,setTheme:w,title:i,can:c,whatsappStatus:k,businesses:f,APP_DOMAIN:O,APP_PROTOCOL:g,notificationsCount:r}),n.jsx(Ai,{session:e,theme:j,can:c,presets:m,whatsappStatus:k,APP_DOMAIN:O,businesses:f,APP_PROTOCOL:g,leadsCount:p,tasksCount:y}),n.jsxs("div",{className:"content-page",children:[n.jsx("div",{className:"content",children:n.jsxs("div",{className:"container-fluid mt-3",children:[n.jsxs("div",{className:"mb-2 d-flex flex-wrap gap-2 justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"my-0",children:i}),a&&n.jsx("small",{className:"",children:a})]}),n.jsx("div",{children:o})]}),t]})}),n.jsx(Di,{})]})]}),c("whatsapp","all")&&n.jsx(Li,{session:e,status:k,setStatus:T,WA_URL:l,APP_URL:d}),n.jsx(Ur,{}),n.jsx("div",{className:"rightbar-overlay"})]})};export{Fi as A,sr as B,Vr as L,Si as W,Ct as i};
