import{C as m,c as d,R as e,r as p,G as g}from"./CreateReactScript-Cr76lECz.js";/* empty css                    */import{T as u}from"./TasksRest-C2SmZ9uv.js";import{A as f}from"./Adminto-D9Qh2p9j.js";import{T as b}from"./Table-CWTPJQdc.js";import{R as n}from"./ReactAppend-BUdEshxq.js";import{D as y}from"./DxBox-CyhaKWwR.js";import{D as h}from"./Dropdown-zA_zAB67.js";import{D as E}from"./DropdownItem-Dd6zonp_.js";import"./server.browser-Dt1gYAOJ.js";const x=new u,T=()=>{const o=p.useRef(),i={Pendiente:{icon:"mdi mdi-clock-time-eight-outline",color:"btn-danger"},"En curso":{icon:"mdi mdi-timer-sand",color:"btn-primary"},Realizado:{icon:"mdi mdi-check",color:"btn-success"}},r={Llamada:{icon:"mdi mdi-phone-forward"},Correo:{icon:"mdi mdi-email-send"},"Por hacer":{icon:"mdi mdi-clock-start"}},c={Baja:{color:"bg-light"},Media:{color:"bg-success"},Alta:{color:"bg-warning"},Urgente:{color:"bg-danger"}};return e.createElement(e.Fragment,null,e.createElement(b,{gridRef:o,title:"Tareas",rest:x,toolBar:a=>{a.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(o.current).dxDataGrid("instance").refresh()}}),a.unshift({widget:"dxButton",location:"after",options:{icon:"plus",hint:"Nuevo registro",onClick:()=>onModalOpen()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"status",caption:"Estado",width:"120px",cellTemplate:(a,{data:t})=>{a.attr("style","overflow: visible"),a.append(y([{height:"28px",children:e.createElement(h,{className:"btn btn-xs btn-light rounded-pill",title:t.status,tippy:"Actualizar estado",icon:{icon:"fa fa-circle",color:i[t.status].color}},Object.keys(i).map((l,s)=>e.createElement(E,{key:`item-${s}`},e.createElement("i",{className:"fa fa-circle",style:{color:i[l].color}})," ",l)))}]))}},{dataField:"name",caption:"Titulo",dataType:"string",width:"250px",cellTemplate:(a,{data:t})=>{n(a,e.createElement("div",{style:{width:"240px"}},e.createElement("b",{className:"d-block my-0"},t.name),e.createElement("div",{className:"mb-0"},e.createElement("span",{class:"badge bg-light text-dark me-1"},e.createElement("i",{className:r[t.type].icon})," ",t.type),e.createElement("span",{class:`badge ${c[t.priority].color}`},t.priority))))}},{dataField:"type",caption:"Tipo",dataType:"string",cellTemplate:(a,{data:t})=>{a.text(t.type),a.prepend(`<i class="${r[t.type].icon} me-1"></i>`)},visible:!1},{dataField:"priority",caption:"Prioridad",dataType:"string",alignment:"center",cellTemplate:(a,{data:t})=>{n(a,e.createElement("span",{className:`badge ${c[t.priority].color}`},t.priority))},visible:!1},{dataField:"client_note.client.contact_name",caption:"Contacto asociado",width:"185px",cellTemplate:(a,{data:t})=>{const l=t.client_note.client;n(a,e.createElement("div",{style:{width:"185px"}},e.createElement("b",{className:"d-block my-0 text-truncate"},l.contact_name),e.createElement("small",null,e.createElement("i",{className:"mdi mdi-phone me-1"}),l.country_prefix||"",l.contact_phone)))}},{dataField:"assigned.fullname",caption:"Asignado a",cellTemplate:(a,{data:t})=>{t.assigned&&n(a,e.createElement(e.Fragment,null,e.createElement("img",{src:`//${g.APP_DOMAIN}/api/profile/thumbnail/${t.assigned.relative_id}`,alt:t.assigned.fullname,class:"img-fluid avatar-xs rounded-circle me-1"}),e.createElement("b",null,t.assigned.fullname)))}}]}))};m((o,i)=>{d(o).render(e.createElement(f,{...i,title:"Tareas"},e.createElement(T,{...i})))});
