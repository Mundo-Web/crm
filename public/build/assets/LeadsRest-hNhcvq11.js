var g=Object.defineProperty;var d=(n,o,e)=>o in n?g(n,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[o]=e;var a=(n,o,e)=>d(n,typeof o!="symbol"?o+"":o,e);import{m as s}from"./CreateReactScript-BFvya1e4.js";import{B as c}from"./Adminto-Be2idleq.js";class u extends c{constructor(){super(...arguments);a(this,"path","leads");a(this,"paginateSufix","served");a(this,"get",async e=>{try{const{status:r,result:t}=await s.Fetch(`/api/${this.path}/${e}`);if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return t.data}catch(r){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),null}});a(this,"all",async()=>{try{const{status:e,result:r}=await s.Fetch(`/api/${this.path}`);if(!e)throw new Error((r==null?void 0:r.message)||"Ocurrio un error inesperado");return r.data}catch(e){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),[]}});a(this,"leadStatus",async e=>{try{const{status:r,result:t}=await s.Fetch(`/api/${this.path}/status`,{method:"POST",body:JSON.stringify(e)});if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return!0}catch(r){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),!1}});a(this,"manageStatus",async e=>{try{const{status:r,result:t}=await s.Fetch(`/api/${this.path}/manage-status`,{method:"POST",body:JSON.stringify(e)});if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return!0}catch(r){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),!1}});a(this,"massiveAssign",async e=>{try{const{status:r,result:t}=await s.Fetch(`/api/${this.path}/massive-assign`,{method:"POST",body:JSON.stringify(e)});if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return!0}catch(r){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),!1}});a(this,"attend",async(e,r)=>{try{const{status:t,result:i}=await s.Fetch(`/api/${this.path}/attend/${e}`,{method:r?"PUT":"DELETE"});if(!t)throw new Error((i==null?void 0:i.message)||"Ocurrio un error inesperado");return!0}catch(t){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:t.message,type:"danger"}),!1}});a(this,"import",async e=>{try{const r=await fetch(`/api/${this.path}/import`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(s.Cookies.get("XSRF-TOKEN"))},body:e}),t=r.ok,i=JSON.parseable(await r.text());if(!t)throw new Error((i==null?void 0:i.message)||"Ocurrio un error inesperado");return!0}catch(r){return s.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),!1}})}}export{u as L};
