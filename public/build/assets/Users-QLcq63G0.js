import{C as x,c as h,j as e}from"./CreateReactScript-CgEuCtoy.js";import{U as j}from"./UsersRest-CwVhhq7n.js";import{A as p,i as u}from"./Adminto-mpPvmFEF.js";import"./sweetalert2.esm.all-DJ5rN5x4.js";const g=new j,v=({can:t,users:a,roles:c,APP_DOMAIN:m})=>{const o=async(s,i)=>{await g.assignRole({role:s.id,user:i.id})&&location.reload()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-center",style:{minHeight:"calc(100vh - 135px)",maxHeight:"max-content"},children:e.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-center gap-2",children:a.map((s,i)=>{var l,d;const r=((d=(l=s.service_user)==null?void 0:l.roles)==null?void 0:d[0])??{name:s.is_owner?"Owner":"Sin rol"};return e.jsx("div",{className:"card mb-0",style:{width:"360px"},children:e.jsx("div",{className:"card-body widget-user",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0 avatar-lg me-3",children:e.jsx("img",{src:`//${m}/api/profile/thumbnail/${s.relative_id}`,className:"img-fluid rounded-circle",alt:"user"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex-grow-1 overflow-hidden",style:{width:"215px"},children:[e.jsxs("h5",{className:"mt-0 mb-1 text-truncate",children:[s.name," ",s.lastname]}),e.jsx("p",{className:"text-muted mb-2 font-13 text-truncate",children:s.email})]}),e.jsx("div",{children:e.jsxs("div",{className:"btn-group",children:[e.jsxs("button",{className:"btn btn-light btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[r.name," ",e.jsx("i",{className:"mdi mdi-chevron-down"})]}),e.jsxs("div",{className:"dropdown-menu",children:[c.map((n,f)=>e.jsx(u,{content:`Asignar rol ${n.name}`,children:e.jsxs("a",{className:"dropdown-item",href:"#",onClick:()=>o(n,s),children:[e.jsx("i",{className:"mdi mdi-account-convert me-2"}),n.name]})})),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("a",{className:"dropdown-item",href:"#",children:[e.jsx("i",{className:"mdi mdi-plus me-2"}),"Nuevo rol"]})]})]})})]})]})})},`user-${i}`)})})})})};x((t,a)=>{h(t).render(e.jsx(p,{...a,title:"Usuarios",children:e.jsx(v,{...a})}))});
