import{r as N,R as t}from"./CreateReactScript-Cr76lECz.js";const D=({gridRef:o,rest:s,columns:c,toolBar:u,masterDetail:d,filterValue:m,defaultRows:l,selection:p,allowedPageSizes:f=[5,10,25,50,100],pageSize:g=100,exportable:h,exportableName:b,customizeCell:n=()=>{}})=>(N.useEffect(()=>{DevExpress.localization.locale(navigator.language),$(o.current).dxDataGrid({language:"es",dataSource:{load:async a=>{const e=await s.paginate(a)??{};let i=(e==null?void 0:e.data)||[];if(l){const r=l.map(v=>Object.keys(v)),w=i.concat(l.filter(v=>!i.some(E=>r.some(y=>y.every(x=>E[x]==v[x])))));e.data=w}return e}},onToolbarPreparing:a=>{const{items:e}=a.toolbarOptions;u(e)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:!0},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:"calc(100vh - 185px)",filterValue:m,selection:p,export:{enabled:h},onExporting:function(a){var e=new ExcelJS.Workbook,i=e.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:i,component:a.component,customizeCell:function(r){n(r),r.excelCell.alignment={horizontal:"left",vertical:"top",...r.excelCell.alignment}}}).then(function(){e.xlsx.writeBuffer().then(function(r){saveAs(new Blob([r],{type:"application/octet-stream"}),`${b}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:g},pager:{visible:!0,allowedPageSizes:f,showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:c,masterDetail:d,onContentReady:(...a)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0})},[null]),t.createElement("div",{ref:o})),k=({title:o,gridRef:s,rest:c,columns:u,toolBar:d,masterDetail:m,filterValue:l=[],defaultRows:p,selection:f,className:g="",allowedPageSizes:h,pageSize:b,exportable:n=!1,customizeCell:a})=>(console.log(n),t.createElement("div",{className:`row ${g}`},t.createElement("div",{className:"col-12"},t.createElement("div",{className:"card"},t.createElement("div",{className:"card-body"},t.createElement("h4",{className:"header-title"},t.createElement("div",{id:"header-title-options",className:"float-end"}),t.createElement("span",{id:"header-title-prefix"})," Lista de ",o," ",t.createElement("span",{id:"header-title-suffix"})),t.createElement(D,{gridRef:s,rest:c,columns:u.filter(Boolean),toolBar:d,masterDetail:m,filterValue:l,defaultRows:p,selection:f,allowedPageSizes:h,pageSize:b,exportable:n,exportableName:o,customizeCell:a}))))));export{k as T};
