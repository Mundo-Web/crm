var d=Object.defineProperty;var c=(a,t,e)=>t in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var i=(a,t,e)=>c(a,typeof t!="symbol"?t+"":t,e);import{m as r,G as g}from"./CreateReactScript-DiT3hDbE.js";import{B as l}from"./Adminto-BgFZ_Mu6.js";class u extends l{constructor(){super(...arguments);i(this,"path","users");i(this,"assignRole",async e=>{try{const{status:o,result:s}=await r.Fetch(`/api/${this.path}/assign-role`,{method:"POST",body:r.JSON.stringify(e)});if(!o)throw new Error((s==null?void 0:s.message)||"Ocurrio un error inesperado");return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:s.message,type:"success"}),!0}catch(o){return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:o.message,type:"danger"}),!1}});i(this,"addSign",async e=>{let o=!1,s=null;const n=await fetch(`${g.APP_PROTOCOL}://${g.APP_DOMAIN}/api/signs`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(r.Cookies.get("XSRF-TOKEN"))},body:e});return o=n.ok,s=r.JSON.parseable(await n.text()),o?(s==null?void 0:s.data)??!0:r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:(s==null?void 0:s.message)||"OcurriÃ³ un error inesperado",type:"danger"})});i(this,"deleteSign",async()=>{try{const{status:e,result:o}=await r.Fetch("/api/users/sign",{method:"DELETE"});if(!e)throw new Error((o==null?void 0:o.message)??"Ocurrio un error inesperado");return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:o.message,type:"success"}),!0}catch(e){return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),!1}})}}export{u as U};
