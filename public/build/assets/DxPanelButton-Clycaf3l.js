import{r as D,R as e}from"./CreateReactScript-Cr76lECz.js";import{r as N}from"./server.browser-Dt1gYAOJ.js";const B=({gridRef:n,rest:i,columns:s,toolBar:c,masterDetail:u,filterValue:d,defaultRows:r,selection:o,allowedPageSizes:p=[5,10,25,50,100],pageSize:b=100,exportable:f,exportableName:g,customizeCell:h=()=>{}})=>(D.useEffect(()=>{DevExpress.localization.locale(navigator.language),$(n.current).dxDataGrid({language:"es",dataSource:{load:async a=>{const t=await i.paginate(a)??{};let m=(t==null?void 0:t.data)||[];if(r){const l=r.map(x=>Object.keys(x)),w=m.concat(r.filter(x=>!m.some(E=>l.some(y=>y.every(v=>E[v]==x[v])))));t.data=w}return t}},onToolbarPreparing:a=>{const{items:t}=a.toolbarOptions;c(t)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:!0},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:"calc(100vh - 185px)",filterValue:d,selection:o,export:{enabled:f},onExporting:function(a){var t=new ExcelJS.Workbook,m=t.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:m,component:a.component,customizeCell:function(l){h(l),l.excelCell.alignment={horizontal:"left",vertical:"top",...l.excelCell.alignment}}}).then(function(){t.xlsx.writeBuffer().then(function(l){saveAs(new Blob([l],{type:"application/octet-stream"}),`${g}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:b},pager:{visible:!0,allowedPageSizes:p,showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:s,masterDetail:u,onContentReady:(...a)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0})},[null]),e.createElement("div",{ref:n})),z=({title:n,gridRef:i,rest:s,columns:c,toolBar:u,masterDetail:d,filterValue:r=[],defaultRows:o,selection:p,className:b="",allowedPageSizes:f,pageSize:g,exportable:h=!1,customizeCell:a})=>e.createElement("div",{className:`row ${b}`},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body"},e.createElement("h4",{className:"header-title"},e.createElement("div",{id:"header-title-options",className:"float-end"}),e.createElement("span",{id:"header-title-prefix"})," Lista de ",n," ",e.createElement("span",{id:"header-title-suffix"})),e.createElement(B,{gridRef:i,rest:s,columns:c.filter(Boolean),toolBar:u,masterDetail:d,filterValue:r,defaultRows:o,selection:p,allowedPageSizes:f,pageSize:g,exportable:h,exportableName:n,customizeCell:a}))))),P=({className:n="btn btn-xs btn-default rounded-pill",location:i="after",icon:s,text:c,title:u,onClick:d=()=>{}})=>({widget:"dxButton",location:i,options:{icon:s,text:c,hint:u,onClick:d,template:(r,o)=>{o.parent().attr("style","border: none !important; background: transparent !important"),o.attr("class",n),o.html(N(e.createElement(e.Fragment,null,r.icon&&e.createElement("i",{className:`${r.icon} me-1`}),r.text)))}}});export{P as D,z as T};
