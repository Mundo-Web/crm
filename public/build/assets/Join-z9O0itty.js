import{j as e,G as E,r as x,A as P,C as B,c as $,m as N}from"./CreateReactScript-CgEuCtoy.js";import"./server.browser-DtYOuO13.js";import{S as k,t as I}from"./sweetalert2.esm.all-DJ5rN5x4.js";import{J as A}from"./JSEncrypt-D3I3x59l.js";const M="/build/password-image.png",q="/build/business-image.png",R="/build/usage-image.png",D="/build/survey-image.png",z="/build/invite-team-image.png",T="/build/dashboard-image.png",O="/build/columns-image.png",J="/build/manage-image.png",_="/build/statuses-image.png",W=({value:a,className:n})=>e.jsx("div",{className:`h-2 bg-[#BEC5FF] w-full rounded-full ${n}`,children:e.jsx("div",{className:"bg-[#4621E1] h-full rounded-full transition-all",style:{width:`${a}%`}})}),f=[{key:"account",color:"#4621E1",image:M},{key:"business",color:"#FF6C37",image:q},{key:"usage",color:"#50C4FF",image:R,showProgressBar:!0},{key:"survey",color:"#5633FE",image:D,showProgressBar:!0},{key:"invite-team",color:"#FF6C37",image:z,showProgressBar:!0},{key:"dashboard",color:"#4621E1",image:T,showProgressBar:!0},{key:"columns",color:"#50C4FF",image:O,showProgressBar:!0},{key:"manage",color:"#5633FE",image:J,showProgressBar:!0},{key:"statuses",color:"#FF6C37",image:_,showProgressBar:!0}],y=f.map(a=>a.key),G=({children:a,step:n,setStep:c})=>{const{color:r,image:s,showProgressBar:t}=f.find(o=>o.key===n)||{},l=y.indexOf(n),m=()=>{let o=l-1;if(o<0)return location.replace("/");c(y[o])},i=f.filter(({showProgressBar:o})=>o),d=(i.findIndex(({key:o})=>o==n)+1)/(i.length+1)*100;return e.jsxs("main",{className:"text-[#000938] bg-no-repeat bg-cover bg-fixed bg-center",children:[e.jsx("header",{className:"bg-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto relative flex items-center justify-center py-4 px-4 sm:px-6 lg:px-8",children:[n!="thanks"&&n!="saving"&&e.jsxs("button",{className:"absolute left-4 sm:left-6 lg:left-8 px-2 flex items-center hover:bg-gray-100 rounded-full",onClick:m,children:[e.jsx("i",{className:"mdi mdi-chevron-left mdi-24px"}),e.jsx("span",{className:"hidden md:block mx-2",children:l==0?"Volver a inicio":"Volver"}),l==0&&e.jsx("span",{className:"block md:hidden mx-2",children:"Inicio"})]}),e.jsx("a",{href:"/",className:"transition-transform hover:scale-105",children:e.jsx("img",{src:`//${E.APP_DOMAIN}/assets/img/logo-dark.svg`,alt:"",style:{height:"32px"}})})]})}),e.jsxs("section",{className:"relative bg-[#f8f8f8]",children:[e.jsx("img",{className:"absolute top-0 left-0 w-full h-full z-0",src:"/assets/img/background-auth.png"}),e.jsxs("div",{className:` max-w-7xl mx-auto flex flex-col md:flex-row z-10 ${n=="thanks"||n=="saving"?"items-center justify-center":"items-start"}`,children:[e.jsxs("div",{className:`relative h-[calc(100vh-144px)] md:h-[calc(100vh-116px)] overflow-y-auto w-full p-6 md:p-12 z-10  ${n=="thanks"||n=="saving"?"justify-center items-center":"md:w-1/2  justify-start"}`,children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mb-8",value:d}),e.jsx("img",{src:"//crm.atalaya.localhost/assets/img/logo-dark.svg",alt:"Atalaya CRM",className:"h-8 w-max mb-8",onError:o=>o.target.src="/assets/img/logo-dark.svg"})]}),a]}),n!="thanks"&&n!="saving"&&e.jsx("div",{className:"hidden md:absolute left-1/2 right-0 bottom-0 top-0 p-10 md:flex items-center justify-center transition-colors",style:{backgroundColor:r},children:e.jsx("img",{src:s,alt:"Atalaya Join image",className:"max-w-[420px] w-full h-full max-h-[360px] object-contain transition-all animate-bounce animate-duration-[10s]"})})]})]}),e.jsx("footer",{className:"bg-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto relative flex flex-col md:flex-row gap-2 items-center justify-between py-4 px-4 sm:px-6 lg:px-8 text-sm",children:[e.jsxs("span",{children:[new Date().getFullYear()," © Atalaya | Propiedad de ",e.jsx("a",{href:"//mundoweb.pe",target:"_blank",className:"text-[#fe4611]",children:"MundoWeb"})]}),e.jsx("span",{children:"Powered By MundoWeb"})]})})]})},F=({label:a,children:n,className:c,required:r,icon:s,type:t="text",placeholder:l,value:m,onChange:i,onKeyDown:u,invalid:d,invalidText:o,disabled:g})=>{const[p,S]=x.useState(!1),C=()=>{S(!p)};let j=t;return t=="password"&&(j=p?"text":"password"),e.jsx("div",{className:"group relative flex-1",children:e.jsxs("label",{className:`flex gap-2 border-2 px-3 py-2 border-[#BEC5FF] rounded-lg bg-white ${d?"border-[#FE4611]":"focus-within:border-[#4621E1]"} focus-within:cursor-text ${g?"cursor-not-allowed":"cursor-pointer"} transition-colors ${c}`,children:[s&&e.jsx("i",{className:s}),e.jsxs("div",{className:`${s?"flex-1":"w-full"} transition-all`,children:[e.jsxs("span",{className:"block text-xs font-semibold mb-1 select-none",children:[a,r&&e.jsx("span",{className:"text-[#FE4611] ms-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:j,className:"border-0 outline-none bg-transparent w-full cursor-pointer focus:cursor-text disabled:cursor-not-allowed",placeholder:l,value:m,onChange:i,onKeyDown:u,required:r,disabled:g}),t=="password"&&e.jsx("span",{type:"button",className:"absolute right-0 select-none cursor-pointer",onClick:C,children:p?e.jsx("i",{className:"mdi mdi-eye"}):e.jsx("i",{className:"mdi mdi-eye-off"})})]}),d&&e.jsx("span",{className:"text-[#FE4611] block text-xs mt-1",children:o})]}),n]})})},L=[{key:"personal",icon:"mdi mdi-account-outline",name:"Personal",description:"Para uso individual y freelancers"},{key:"startup",icon:"mdi mdi-flash-outline",name:"Emprendimiento",description:"Para startups y proyectos emergentes"},{key:"business",icon:"mdi mdi-account-group-outline",name:"Negocio",description:"Para empresas y equipos comerciales"}],v=({data:a,setData:n,setStep:c})=>{const r=s=>{if(s.preventDefault(),!a.accountType){k.fire({icon:"warning",title:"Atención",text:"Por favor selecciona una opción antes de continuar"});return}c("survey")};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Hola, ¿cómo planeas usar Atalaya CRM?"}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Esto nos ayudará a personalizar tu experiencia"}),e.jsxs("form",{className:"space-y-4 mb-2",onSubmit:r,children:[e.jsx("div",{className:"relative space-y-4",children:L.map(s=>e.jsxs("div",{className:"select-none",children:[e.jsx("input",{type:"radio",name:"accountType",id:`type-${s.key}`,value:s.key,checked:s.key==a.accountType,className:"opacity-0 peer absolute left-1/2 bottom-0 -translate-x-1/2",onChange:t=>n({...a,accountType:t.target.value}),required:!0}),e.jsxs("label",{htmlFor:`type-${s.key}`,className:"p-4 group flex items-center gap-2 border-2 border-[#BEC5FF] rounded-xl bg-white cursor-pointer transition-colors peer-checked:border-[#4621E1]",children:[e.jsx("i",{className:`${s.icon} text-2xl w-10 h-10 rounded-lg flex items-center justify-center ${s.key==a.accountType?"bg-[#4621E1] text-white":"bg-[#DBE0FF] text-[#4621E1]"} transition-colors`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("b",{className:"block",children:s.name}),e.jsx("small",{className:"block",children:s.description})]})]})]},s.key))}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Siguiente"})})]})]})},U=["Google","Redes sociales","Recomendación","Publicidad online","Blog o artículo","Evento o conferencia","Otro"],V=({data:a,setData:n,setStep:c})=>{const r=s=>{if(s.preventDefault(),!a.medio){k.fire({icon:"warning",title:"Atención",text:"Por favor selecciona una opción antes de continuar"});return}c("invite-team")};return e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-4xl font-bold mb-2",children:["Una última pregunta",e.jsx("br",{}),"¿Cómo supiste de nosotros?"]}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Nos ayuda a entender mejor a nuestros usuarios"}),e.jsxs("form",{className:"space-y-4",onSubmit:r,children:[e.jsx("div",{className:"flex flex-wrap gap-2 relative",children:U.map(s=>{var l;const t=a.medio==s;return e.jsxs("div",{className:`group border-2 ${t?"border-[#4621E1] bg-[#4621E1] bg-opacity-5":"border-[#BEC5FF]"} ps-3 py-1 pe-4 rounded-xl flex gap-1 items-center justify-center cursor-pointer transition-colors`,onClick:()=>n({...a,medio:s}),children:[e.jsx("input",{className:"absolute left-1/2 bottom-0 -translate-x-1/2 opacity-0",type:"radio",name:"medio",checked:(l=a.medio)==null?void 0:l.includes(s),value:s,onChange:()=>{},required:!0}),t?e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-check-circle text-[#4621E1] transition-all"}):e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-circle-outline text-[#BEC5FF] transition-all"}),e.jsx("span",{children:s})]},s)})}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Siguiente"})})]})]})},K=({data:a,setData:n,setStep:c})=>{const[r,s]=x.useState(a.emails??[]),[t,l]=x.useState(""),m=()=>{n({...a,emails:r}),c("dashboard")};return x.useEffect(()=>{n({...a,emails:r})},[r]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Invita a tu equipo"}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Agrega miembros de tu equipo para colaborar (opcional)"}),e.jsx(F,{className:"items-end",label:"Ingresa email",type:"email",placeholder:"hola@mail.com",value:t,onChange:i=>{l(i.target.value)},onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.target.value)&&(s([...new Set([...r,i.target.value])]),l("")))},required:!0,children:e.jsx("button",{className:"text-sm font-semibold underline text-[#4621E1]",onClick:()=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(s([...new Set([...r,t])]),l(""))},children:"Agregar"})}),r.length>0&&e.jsxs("div",{className:" bg-[#EBEFFF] mt-6 rounded-xl",children:[e.jsx("div",{className:"font-bold p-4 pb-0 text-sm",children:"Miembros invitados:"}),e.jsx("div",{className:"px-4 pb-2",children:r.map((i,u)=>e.jsxs("div",{className:`flex items-center gap-2 border-gray-300 py-2 w-full ${u!=0&&"border-t"}`,children:[e.jsx("div",{className:"flex-1 truncate",children:i}),e.jsx("button",{className:"flex-shrink-0 font-semibold text-sm text-red-600 hover:text-red-800",onClick:()=>{s(r.filter(d=>d!=i))},children:"Eliminar"})]},u))})]}),e.jsx("div",{className:"text-xs text-gray-600 leading-tight mt-4",children:"Puedes invitar más miembrodivespués desde la configuración de tu cuenta"}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",onClick:m,children:r.length>0?"Siguiente":"Omitir"})})]})},Q=({data:a,setData:n,setStep:c})=>{var s;const r=t=>{t.preventDefault(),c("columns")};return e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-4xl font-bold mb-2",children:["Empecemos a trabajar ",e.jsx("br",{}),"Nombre de tu tablero"]}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Dale un nombre a tu tablero, por ejemplo, Plan de marketing, proceso de ventas, hoja de ruta trim...."}),e.jsxs("form",{onSubmit:r,children:[e.jsx(F,{className:"items-end",label:"Nombre de tu proyecto",placeholder:"Mi primer proyecto",value:a.projectName,onChange:t=>{n({...a,projectName:t.target.value})},required:!0}),e.jsxs("div",{className:"w-full mt-4 overflow-x-auto",children:[e.jsx("h4",{className:"font-semibold",children:a.projectName||"Leads"}),e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:(s=a.columns)!=null&&s.length?a.columns.map((t,l)=>e.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 text-nowrap",children:t},l)):e.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 text-nowrap",children:e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"})})})}),e.jsx("tbody",{children:[1,2].map(t=>{var l;return e.jsx("tr",{className:"border-b",children:(l=a.columns)!=null&&l.length?a.columns.map((m,i)=>e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},i)):e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})})},t)})})]})]}),e.jsxs("blockquote",{className:"bg-[#EBEFFF] p-4 rounded-lg mt-6",children:[e.jsxs("div",{className:"font-bold mb-2",children:[e.jsx("i",{className:"mdi mdi-lightbulb me-2"}),"Tip"]}),e.jsx("p",{className:"text-sm leading-tight",children:"Encontrarás todo tu contenido en los “tableros de Atalaya"})]}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Siguiente"})})]})]})},h=["Lead","Responsable","Correo","Teléfono","Estado de gestión","Estado del lead","Origen","A través de","Fecha de creación"],H=({data:a,setData:n,setStep:c})=>{var s;const r=t=>{t.preventDefault(),c("manage")};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Selecciona las columnas relevantes para tu tablero"}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Selecciona qué información quieres ver en tu CRM"}),e.jsxs("form",{className:"flex flex-wrap gap-2 mb-2",onSubmit:r,children:[e.jsx("div",{className:"relative flex flex-wrap gap-2",children:h.map(t=>{var m,i;const l=(m=a.columns)==null?void 0:m.includes(t);return e.jsxs("div",{className:`group border-2 ${l?"border-[#4621E1] bg-[#4621E1] bg-opacity-5":"border-[#BEC5FF]"} ps-3 py-1 pe-4 rounded-xl flex gap-1 items-center justify-center cursor-pointer transition-colors`,onClick:()=>{var o;const d=(l?(o=a.columns)==null?void 0:o.filter(g=>g!==t):[...a.columns??[],t]).filter(g=>h.includes(g)).sort((g,p)=>h.indexOf(g)-h.indexOf(p));n({...a,columns:d})},children:[e.jsx("input",{className:"absolute left-1/2 bottom-0 -translate-x-1/2 opacity-0 h-[1px]",type:"radio",name:"medio",checked:(i=a.columns)==null?void 0:i.includes(t),value:t,required:!0,onChange:()=>{}}),l?e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-marked-outline text-[#4621E1] transition-all"}):e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-blank-outline text-[#BEC5FF] transition-all"}),e.jsx("span",{children:t})]},t)})}),e.jsxs("div",{className:"w-full mt-4 overflow-x-auto",children:[e.jsx("h4",{className:"font-semibold",children:a.projectName||"Leads"}),e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:(s=a.columns)!=null&&s.length?a.columns.map((t,l)=>e.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 text-nowrap",children:t},l)):e.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 text-nowrap",children:e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"})})})}),e.jsx("tbody",{children:[1,2].map(t=>{var l;return e.jsx("tr",{className:"border-b",children:(l=a.columns)!=null&&l.length?a.columns.map((m,i)=>e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},i)):e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})})},t)})})]})]}),e.jsxs("blockquote",{className:"bg-[#EBEFFF] p-4 rounded-lg mt-6 w-full",children:[e.jsxs("div",{className:"font-bold mb-2",children:[e.jsx("i",{className:"mdi mdi-lightbulb me-2"}),"Tip"]}),e.jsx("p",{className:"text-sm leading-tight",children:"Averigua de un vistazo cuándo y quién actualizó el trabajo por última vez"})]}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Siguiente"})})]})]})},Y=["Pendiente","Atendiendo","No responde","Sin presupuesto"],X=({data:a,setData:n,setStep:c})=>{x.useEffect(()=>{(!a.manageStatuses||!a.manageStatuses.includes("Pendiente"))&&n({...a,manageStatuses:["Pendiente",...a.manageStatuses||[]]})},[]);const r=s=>{s.preventDefault(),c("statuses")};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Que estados de gestion quieres ver en tu tablero"}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Define los estados para organizar tu proceso de ventas"}),e.jsxs("form",{className:"mb-2",onSubmit:r,children:[e.jsx("div",{className:"relative flex flex-wrap gap-2",children:Y.map(s=>{var m;const t=s==="Pendiente",l=t||((m=a.manageStatuses)==null?void 0:m.includes(s));return e.jsxs("div",{className:`group border-2 ${l?"border-[#4621E1] bg-[#4621E1] bg-opacity-5":"border-[#BEC5FF]"} ps-3 py-1 pe-4 rounded-xl flex gap-1 items-center justify-center ${t?"cursor-not-allowed opacity-75":"cursor-pointer"} transition-colors`,onClick:()=>{var u;if(t)return;const i=l?(u=a.manageStatuses)==null?void 0:u.filter(d=>d!==s):[...a.manageStatuses??[],s];n({...a,manageStatuses:i})},children:[e.jsx("input",{className:"absolute left-1/2 bottom-0 -translate-x-1/2 opacity-0 h-[1px]",type:"radio",name:"medio",checked:l,value:s,required:!0,onChange:()=>{}}),l?e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-marked-outline text-[#4621E1] transition-all"}):e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-blank-outline text-[#BEC5FF] transition-all"}),e.jsx("span",{children:s})]},s)})}),e.jsxs("blockquote",{className:"bg-[#EBEFFF] p-4 rounded-lg mt-6 w-full",children:[e.jsxs("div",{className:"font-bold mb-2",children:[e.jsx("i",{className:"mdi mdi-lightbulb me-2"}),"Tip"]}),e.jsx("p",{className:"text-sm leading-tight",children:"Averigua de un vistazo cuándo y quién actualizó el trabajo por última vez"})]}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Siguiente"})})]})]})},b=["Nuevo","Gestión","Reunión","Propuesta","Decisión"],Z=({data:a,setData:n,setStep:c})=>{var s;x.useEffect(()=>{(!a.statuses||!a.statuses.includes("Nuevo"))&&n({...a,statuses:["Nuevo",...a.statuses||[]]})},[]);const r=async t=>{t.preventDefault(),c("saving")};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Qué estapas de lead necesitar tener a la mano"}),e.jsx("p",{className:"text text-gray-600 mb-8",children:"Configura las etapas del embudo de conversión"}),e.jsxs("form",{className:"mb-2",onSubmit:r,children:[e.jsx("div",{className:"relative flex flex-wrap gap-2 mb-6",children:structuredClone(b).map(t=>{var i,u;const l=(i=a.statuses)==null?void 0:i.includes(t),m=t==="Nuevo";return e.jsxs("div",{className:`group border-2 ${l?"border-[#4621E1] bg-[#4621E1] bg-opacity-5":"border-[#BEC5FF]"} ps-3 py-1 pe-4 rounded-xl flex gap-1 items-center justify-center ${m?"cursor-not-allowed opacity-75":"cursor-pointer"} transition-colors select-none`,onClick:()=>{var o;if(m)return;b.indexOf(t);let d;l?d=(o=a.statuses)==null?void 0:o.filter(g=>g!==t):d=[...a.statuses??[],t].sort((g,p)=>b.indexOf(g)-b.indexOf(p)),n({...a,statuses:d})},children:[e.jsx("input",{className:"absolute left-1/2 bottom-0 -translate-x-1/2 opacity-0 h-[1px]",type:"radio",name:"medio",checked:(u=a.statuses)==null?void 0:u.includes(t),value:t,required:!0,onChange:()=>{},disabled:m}),l?e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-marked-outline text-[#4621E1] transition-all"}):e.jsx("i",{className:"mdi text-xl flex items-center justify-center mdi-checkbox-blank-outline text-[#BEC5FF] transition-all"}),e.jsx("span",{children:t})]},t)})}),e.jsx("div",{className:"w-full mt-2 overflow-x-auto",children:e.jsx("div",{className:"flex gap-4",children:(s=a.statuses)==null?void 0:s.map((t,l)=>e.jsxs("div",{className:"flex-1 min-w-[150px] max-w-[150px]",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-3",children:t}),e.jsx("div",{className:"space-y-2",children:[1,2].map(m=>e.jsxs("div",{className:"bg-gray-200 h-16 rounded-lg animate-pulse p-2",children:[e.jsx("div",{className:"h-4 w-3/4 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-1/2 bg-gray-300 rounded"})]},m))})]},l))})}),e.jsxs("blockquote",{className:"bg-[#EBEFFF] p-4 rounded-lg mt-6 w-full",children:[e.jsxs("div",{className:"font-bold mb-2",children:[e.jsx("i",{className:"mdi mdi-lightbulb me-2"}),"Tip"]}),e.jsx("p",{className:"text-sm leading-tight",children:'Encontrarás todo tu contenido en los "tableros de Atalaya"'})]}),e.jsx("div",{className:"flex w-full justify-end !mt-6",children:e.jsx("button",{type:"submit",className:"bg-[#4621E1] hover:bg-opacity-90 transition-colors text-white rounded-xl py-3 px-6",children:"Finalizar configuración"})})]})]})},ee=new P,w=({data:a,step:n,setStep:c})=>{const[r,s]=x.useState(!1),[t,l]=x.useState("."),[m,i]=x.useState(10),u=async()=>{s(!1);const{status:d,message:o}=await ee.init(a);if(!d){s(!0),I(o,{icon:e.jsx("i",{className:"mdi mdi-alert"})});return}c("thanks")};return x.useEffect(()=>{if(n=="saving"){u();const d=setInterval(()=>{l(o=>o==="."?"..":o===".."?"...":".")},500);return()=>clearInterval(d)}if(n==="thanks"){const d=setInterval(()=>{i(o=>o<=1?(clearInterval(d),window.location.href="/leads?first_time=1",0):o-1)},1e3);return()=>clearInterval(d)}},[n]),e.jsx("div",{className:"h-full grid items-center",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-sm w-full mx-auto p-6 text-center",children:[e.jsx("i",{className:`mdi ${n=="saving"?"mdi-spin mdi-loading":"mdi-check"} mdi-36px w-14 h-14 bg-[#DBE0FF] mx-auto mb-6 rounded-2xl flex items-center justify-center text-[#4621E1]`}),e.jsx("h2",{className:"text-4xl font-bold mb-4",children:n=="saving"?`Configurando${t}`:e.jsxs(e.Fragment,{children:["¡Bienvenido a ",e.jsx("span",{className:"text-[#FE4611]",children:"Atalaya"}),"!"]})}),e.jsx("p",{className:"leading-tight mb-6 text-gray-600",children:n=="saving"?"Estamos personalizando tu tablero de CRM, configurando tus preferencias iniciales y preparando todo para que puedas comenzar a gestionar tus clientes de manera efectiva":"Tu cuenta ha sido configurada exitosamente. Estás listo para comenzar a gestionar tus clientes y hacer crecer tu negocio."}),e.jsx("div",{className:"space-y-2 mb-6",children:n=="saving"?e.jsx(e.Fragment,{children:r&&e.jsxs("button",{className:"w-full block border-2 border-[#4621E1] bg-[#4621E1] hover:bg-opacity-90 transition-colors font-semibold text-white rounded-xl py-3 px-6",children:[e.jsx("i",{className:"mdi mdi-refresh me-1"}),"Reintentar"]})}):e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"/leads?first_time=1",className:"w-full block border-2 border-[#4621E1] bg-[#4621E1] hover:bg-opacity-90 transition-colors font-semibold text-white rounded-xl py-3 px-6",children:"Ir al CRM"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Serás redirigido automáticamente en ",m," segundos"]})]})}),e.jsxs("p",{className:"leading-tight text-[#4621E1] text-sm",children:[e.jsx("span",{className:"font-bold",children:"💡 Próximos pasos:"})," Importa tus contactos existentes o comienza agregando tu primer lead."]})]})})},se=({PUBLIC_RSA_KEY:a})=>{new A().setPublicKey(a);const[c,r]=x.useState("usage"),[s,t]=x.useState(N.Session.get("join-data")??{});console.clear(),console.log(Object.keys(s).map(m=>`${m}: ${s[m]}`).join(`
`));const l=()=>{switch(c){case"usage":return e.jsx(v,{data:s,setData:t,setStep:r});case"survey":return e.jsx(V,{data:s,setData:t,setStep:r});case"invite-team":return e.jsx(K,{data:s,setData:t,setStep:r});case"dashboard":return e.jsx(Q,{data:s,setData:t,setStep:r});case"columns":return e.jsx(H,{data:s,setData:t,setStep:r});case"manage":return e.jsx(X,{data:s,setData:t,setStep:r});case"statuses":return e.jsx(Z,{data:s,setData:t,setStep:r});case"saving":return e.jsx(w,{data:s,setData:t,step:c,setStep:r});case"thanks":return e.jsx(w,{data:s,setData:t,step:c,setStep:r});default:return e.jsx(v,{data:s,setData:t,setStep:r})}};return x.useEffect(()=>{N.Session.set("join-data",s)},[s]),x.useEffect(()=>{document.title=`Join | ${E.APP_NAME}`},[null]),e.jsx(G,{step:c,setStep:r,children:l()})};B((a,n)=>{$(a).render(e.jsx(se,{...n}))});
