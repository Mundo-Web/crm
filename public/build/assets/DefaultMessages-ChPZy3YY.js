var w=Object.defineProperty;var h=(s,t,a)=>t in s?w(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var d=(s,t,a)=>h(s,typeof t!="symbol"?t+"":t,a);import{C as D,c as C,R as r,r as l}from"./CreateReactScript-Cr0jxVVm.js";import{R as i}from"./ReactAppend-CKg2QgUD.js";import{B as T,A,S as B}from"./Adminto-Bhh7oAoZ.js";import{M}from"./Modal-KGhM3NSB.js";import{T as N,D as E}from"./DxPanelButton-CHWOJf1l.js";import{I as y}from"./InputFormGroup-CK0LKjaC.js";import{T as S}from"./TextareaFormGroup-CGrZa_dx.js";import{T as R}from"./TippyButton-CCWnnXOW.js";import"./server.browser-Bm2dKYp3.js";class k extends T{constructor(){super(...arguments);d(this,"path","default-messages")}}const u=new k,F=({title:s})=>{const t=l.useRef(),a=l.useRef(),o=l.useRef(),c=l.useRef(),m=l.useRef(),[g,f]=l.useState(!1),p=e=>{e!=null&&e.id?f(!0):f(!1),o.current.value=(e==null?void 0:e.id)||null,c.current.value=(e==null?void 0:e.name)||null,m.current.value=(e==null?void 0:e.description)||null,$(a.current).modal("show")},x=async e=>{e.preventDefault();const n={id:o.current.value||void 0,name:c.current.value,description:m.current.value};await u.save(n)&&($(t.current).dxDataGrid("instance").refresh(),$(a.current).modal("hide"))},b=async e=>{const{isConfirmed:n}=await B.fire({title:"Eliminar registro",text:"Â¿Desea eliminar el registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0});!n||!await u.delete(e)||$(t.current).dxDataGrid("instance").refresh()};return r.createElement(r.Fragment,null,r.createElement(N,{gridRef:t,title:s,rest:u,toolBar:e=>{e.unshift(E({className:"btn btn-xs btn-soft-dark",text:"Actualizar",title:"Refrescar tabla",icon:"fas fa-undo-alt",onClick:()=>$(t.current).dxDataGrid("instance").refresh()})),e.unshift(E({className:"btn btn-xs btn-soft-primary",text:"Nuevo",title:"Agregar registro",icon:"fa fa-plus",onClick:()=>p()}))},columns:[{dataField:"name",caption:"Alias"},{dataField:"description",caption:"Descripcion",cellTemplate:(e,{value:n})=>{n?i(e,n):i(e,r.createElement("i",{className:"text-muted"},"- Sin descripcion -"))}},{caption:"Acciones",cellTemplate:(e,{data:n})=>{e.attr("style","display: flex; gap: 4px; overflow: unset"),i(e,r.createElement(R,{className:"btn btn-xs btn-soft-primary",title:"Editar",onClick:()=>p(n)},r.createElement("i",{className:"fa fa-pen"}))),i(e,r.createElement(R,{className:"btn btn-xs btn-soft-danger",title:"Eliminar",onClick:()=>b(n.id)},r.createElement("i",{className:"fa fa-trash-alt"})))},allowFiltering:!1,allowExporting:!1}]}),r.createElement(M,{modalRef:a,title:g?"Editar mensaje predeterminado":"Agregar mensaje predeterminado",onSubmit:x},r.createElement("div",{className:"row"},r.createElement("input",{ref:o,type:"hidden"}),r.createElement(y,{eRef:c,label:"Alias",col:"col-12",required:!0}),r.createElement(S,{eRef:m,label:"Mensaje",col:"col-12",required:!0}))))};D((s,t)=>{t.title="Mensajes Predeterminados",C(s).render(r.createElement(A,{...t},r.createElement(F,{...t})))});
