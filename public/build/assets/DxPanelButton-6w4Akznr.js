import{r as k,R as e}from"./CreateReactScript-DiMSE74L.js";import{r as C}from"./server.browser-BzA2yPSr.js";const z=({gridRef:r,rest:i,columns:s,toolBar:c,masterDetail:u,filterValue:d,defaultRows:a,selection:n,allowedPageSizes:b=[5,10,25,50,100],pageSize:x=100,exportable:f,exportableName:g,customizeCell:h=()=>{},reloadWith:v=[null]})=>(k.useEffect(()=>{var m,E;DevExpress.localization.locale(navigator.language),$(r.current).data("dxDataGrid")&&((E=(m=$(r.current))==null?void 0:m.dxDataGrid("instance"))==null||E.dispose()),$(r.current).dxDataGrid({language:"es",dataSource:{load:async l=>{const t=await i.paginate(l)??{};let p=(t==null?void 0:t.data)||[];if(a){const o=a.map(w=>Object.keys(w)),D=p.concat(a.filter(w=>!p.some(N=>o.some(B=>B.every(y=>N[y]==w[y])))));t.data=D}return t}},onToolbarPreparing:l=>{const{items:t}=l.toolbarOptions;c(t)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:!0},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:"calc(100vh - 185px)",filterValue:d,selection:n||null,export:{enabled:f},onExporting:function(l){var t=new ExcelJS.Workbook,p=t.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:p,component:l.component,customizeCell:function(o){h(o),o.excelCell.alignment={horizontal:"left",vertical:"top",...o.excelCell.alignment}}}).then(function(){t.xlsx.writeBuffer().then(function(o){saveAs(new Blob([o],{type:"application/octet-stream"}),`${g}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:x},pager:{visible:!0,allowedPageSizes:b,showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:s,masterDetail:u,onContentReady:(...l)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0})},v),e.createElement("div",{ref:r})),F=({title:r,gridRef:i,rest:s,columns:c,toolBar:u,masterDetail:d,filterValue:a=[],defaultRows:n,selection:b,className:x="",allowedPageSizes:f,pageSize:g,exportable:h=!1,customizeCell:v,reloadWith:m})=>e.createElement("div",{className:`row ${x}`},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body"},e.createElement("h4",{className:"header-title"},e.createElement("div",{id:"header-title-options",className:"float-end"}),e.createElement("span",{id:"header-title-prefix"})," Lista de ",r," ",e.createElement("span",{id:"header-title-suffix"})),e.createElement(z,{gridRef:i,rest:s,columns:c.filter(Boolean),toolBar:u,masterDetail:d,filterValue:a,defaultRows:n,selection:b,allowedPageSizes:f,pageSize:g,exportable:h,exportableName:r,customizeCell:v,reloadWith:m}))))),M=({className:r="btn btn-xs btn-default rounded-pill",location:i="after",icon:s,text:c,title:u,onClick:d=()=>{}})=>({widget:"dxButton",location:i,options:{icon:s,text:c,hint:u,onClick:d,template:(a,n)=>{n.parent().attr("style","border: none !important; background: transparent !important"),n.attr("class",r),n.html(C(e.createElement(e.Fragment,null,a.icon&&e.createElement("i",{className:`${a.icon} me-1`}),a.text)))}}});export{M as D,F as T};
