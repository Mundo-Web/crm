import{r as f,m as i,R as l}from"./CreateReactScript-DTtS0YXO.js";const b=({col:o,label:t,eRef:a,required:s=!1,dropdownParent:n,searchAPI:c,searchBy:e,noMargin:E=!1,multiple:g=!1,filter:u=null})=>(a||(a=f.useRef()),f.useEffect(()=>{$(a.current).select2({dropdownParent:n,minimumInputLength:0,ajax:{url:c,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(i.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:r,page:m}){return i.JSON.stringify({sort:[{selector:e,desc:!1}],skip:((m??1)-1)*10,take:10,filter:u?[[e,"contains",r],"and",u]:[e,"contains",r]})},processResults:function(r,{page:m}){return{results:((r==null?void 0:r.data)??[]).map(p=>i.JSON.flatten(p)).map(({id:p,[e]:S})=>({id:p,text:S})),pagination:{more:(m??1)*10<r.totalCount}}}}})},[n]),l.createElement("div",{className:`form-group ${o} ${!E&&"mb-2"}`},l.createElement("label",{htmlFor:"",className:"mb-1 form-label"},t," ",s&&l.createElement("b",{className:"text-danger"},"*")),l.createElement("select",{ref:a,required:s,className:"form-control",style:{width:"100%"},multiple:g}))),x=(o,t,a,s)=>{if($(o).empty(),!!t){if(Array.isArray(t))t.forEach(({[a]:n,[s]:c})=>{const e=document.createElement("option");e.value=n,e.text=c,e.selected=!0,$(o).append(e)});else{const n=document.createElement("option");n.value=t,n.text=a??t,$(o).append(n),$(o).val(t)}$(o).trigger("change")}};export{x as S,b as a};
